---
layout: post
title: 数据结构：红黑树
category: 数据结构与算法
tags: 进阶 数据结构与算法
keywords: 蓝桥 lanqiao 教程 红黑树
description: 本文介绍红黑树的实现运用。
author: 郑未
---

# 前言

红黑树是一类特殊的二叉查找树，是一颗平衡的二叉查找树，但只是接近平衡。它能保证在最坏情况下，基本的动态
集合操作的时间为O(lgN)。

我们知道在二叉查找树上执行的基本操作的时间和树的高度成正比。对于一颗含有N个结点的完全二叉树，在有些情
况下，可能会形成一个斜树，这样的话其高度就是结点个数，这样时间复杂度为O(N)，显然我们并不希望出现这样的
情况，通过随机插入结点可以降低这个情况的出现，但还是不能保证这种情况的不出现。那么这时，我
们的红黑树就派上用场了。它能保证在最坏情况下，基本的动态集合操作的时间为O(lgN)。

# 性质

一颗二叉查找树如果满足下面的红黑性质，则为一颗红黑树：

1、每个结点或是红的，或是黑的

2、根结点是黑的

3、每个叶结点(NIL)是黑的

4、如果一个结点是红的，那么它的两个子结点都是黑的

5、对每个结点，从该结点到其子孙结点的所有路径上包含相同数目的黑结点

几点说明：

上面提到的叶结点(NIL)和我们之前讲树的叶子结点是不同的。这里的NIL是一个哨兵，是为了方便处理红黑树代码中
的边界条件。

                                                              4
                                                     1                   5
                                            NIL          NIL    NIL        NIL

像上面的二叉查找树，如果是一般的二叉查找树的话，那么1和5就是叶子结点了，其指针域的左右孩子指针都指向
NULL。对于红黑树的话，四个NIL就是叶子结点了。还有就是根结点的p指针也是指向NIL的。

如果这里的叶结点的概念没搞清楚的话，对后面的理解以及代码的编写都会造成干扰。

# 基本操作

对红黑树的主要操作就是查询、插入和删除了。因为红黑树本身就是一颗二叉查找树，而且查询操作不会对树作修
改，所以查询和二叉查找树是一样的，直接递归即可。但插入和删除对树作了修改，这时新的二叉查找树可能已经不
是红黑树了，所以我们必须进行一些调整来使其保持红黑树的性质。 而为了保持这些性质，就要改变树中某些结点的
颜色以及指针结构。



# 实现

