---
layout: post
title: JavaScript语言访问和操作网页
category: Web前端入门教程
tags: Web前端
description: 在Web前端的JavaScript语言编程的程中必须涉及到如何访问和操作浏览器的问题，本小节主要介绍了如何用JS语言访问浏览器以及其中的HTML文档
author: 曹小虎
keywords: lanqiao 蓝桥 全栈 教程 Web前端
---

> 本章目标

- 浏览器对象模型（BOM）
- 文档对象模型（DOM）

&emsp;&emsp;上个小节我们提到过，所有现代浏览器内部都内置有解析和运行JavaScript语言的JS引擎。

 ![js_bom_bridge](/public/img/js/js_bom_bridge.png){:width="400px" height="300px"}

&emsp;&emsp;我们也提到，最早网景公司在浏览器里面引入JavaScript语言是为了给网页增加动态交互功能。那么问题就来了，我们怎么样才能用JavaScript语言给网页增加动态交互功能？换句更直接一点的话说，我们用什么办法JavaScript语言写成的**JS程序**跟HTML语言写成的**网页**“对话”？

&emsp;&emsp;现在的浏览器都已经被模型化（modleing），抽象成能用JavaScript语言访问和操作的JS对象，这就是**Browser Object Model**,简称**BOM**。

&emsp;&emsp;BOM里面最大的一个对象就是窗口对象：“**window**”，这个对象包含很多有用的属性和方法。我们可以通过这些属性和方法，跟浏览器“对话”、让浏览器按照人的意图表现出不同的行为。

 ![browser-object-model](/public/img/js/browser-object-model.jpg){:width="400px" height="300px"}


# 实验一：打开浏览器窗口

## 1.1 打开蓝桥官网

###　操作过程

&emsp;&emsp;用“Fn+F12”组合键打开Google Chrome浏览器开发者工具，选择“Console”面板，输入以下代码，打开蓝桥官网：

    //声明一个变量myWin保存方法调用返回的新窗口
    var myWin= window.open('http://www.lanqiao.org/');

&emsp;&emsp;输入效果如下：

 ![open_win_from_console](/public/img/js/open_win_from_console.png){:width="600px" height="500px"}

### 原理解析

### 更多思考

## 1.2 用window对象属性检查窗口状态

### 查看closed属性

&emsp;&emsp;继续上一步，访问窗口的“closed”属性：

    //访问对象属性的语法是：“变量名.属性名”
    myWin.closed

&emsp;&emsp;示例图如下：

 ![check_win_closed_or_not](/public/img/js/check_win_closed_or_not.png){:width="600px" height="500px"}

### 原理分析

### 更多思考

## 1.3 用window对象的方法操作浏览器

### 新窗口获得焦点

### 移动窗口

### 关闭窗口

&emsp;&emsp;window对象上有一个名字是“close”的属性，值类型是“function”:

 ![close_func_of_win](/public/img/js/close_func_of_win.png){:width="600px" height="500px"}

&emsp;&emsp;调用这个函数：

    //调用函数的方法是：“方法名()”
    myWin.close();

&emsp;&emsp;可以看到，新打开的窗口被关掉了：

 ![close_win_in_console](/public/img/js/close_win_in_console.png){:width="600px" height="500px"}


# 实验二：用弹出小窗跟浏览器对话

## 2.1 alert弹出框

### 操作步骤

### 回顾总结

## 2.2 promt弹出框

### 操作步骤

### 回顾总结

## 2.3　confirm弹出框

### 操作步骤

### 回顾总结


# 实验三：用Screen对象访问显示器信息

## 3.1 

# 实验四：用History访问浏览历史

# 实验五：用Location对象访问地址栏信息

# 实验六：用Navigator对象访问浏览器总体信息

# 实验七: 用定时API动态显示当前时间





### 窗口对象Window常用属性和方法

### Location对象

### Navigator对象

### Screen对象

### History对象

### Timing对象

### alert对象

### Cookie对象

# 2.文档对象模型（DOM）

&emsp;&emsp;下面是一个HTML文件里面的部分内容，我们可以在其中看到很对标签：

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" 
       "http://www.w3.org/TR/html4/strict.dtd">
    <HTML>
    <TITLE>A simple HTML Document</TITLE>
    <BODY>
    <h1>This is a heading</h1>
    <p>
        This is a paragraph
    </p>
    </BODY>
    </HTML>


&emsp;&emsp;从一切都是对象的角度看世界，我们可以把HTML文档看做一个对象，文档中每个标签代表的HTML元素也是对象。

&emsp;&emsp;浏览器从网络下载“.html”的文件以后，会把文件内容解析成一个树形结构的文档对象，只不过这是一颗倒立的树。

 ![html-dom-structure](/public/img/js/html-dom-structure.gif){:width="400px" height="300px"}

&emsp;&emsp;为此W3C组织专门抽象了一个简称为**HTML DOM**的HTML文档对象模型（Document Object Model），根节点的名称是“**document**”。

## 2.1 HTML Document上的节点

&emsp;&emsp;document根节点，以下共有四种类型节点：  

 1. HTML元素节点
 2. 文本节点
 3. 属性节点
 4. 注释节点

### DOM文档上常用的属性

&emsp;&emsp;程序员们可以用JavaScript代码访问到这个文档对象。请你在键盘上F12按下，打开Chrome开发者工具，选择Console的Tab，输入下面的变量名称并且回车，查看效果：

    document

&emsp;&emsp;控制台打印出了这个文档对象的全部内容（此处省略一张截图）。

&emsp;&emsp;除了可以通过JavaScript变量名访问过**文档对象**，我们还可以访问文档对象的各种**属性**。

 ![attr_list_on_document.png](/public/img/js/attr_list_on_document.png){:width="300px" height="200px"}

&emsp;&emsp;从下拉列表中选择一行内容并且点击键盘回车按钮之后，控制台就会打印出你刚才选中的document属性的实际值。如果一个属性的实际值是一个JavaScript函数（function），那么这个属性就是HTML DOM文档上面的一个**方法**。

&emsp;&emsp;HTML DOM文档上有很多常用的方法，我们可以通过这些方法查询或者修改其中任意节点。

## 2.2 HTML DOM节点的属性

&emsp;&emsp;HTML DOM中document以下的全部节点可以划分为以下几种类型： id属性 、标准属性、自定义属性、样式和事件。由于最后两种属性“样式”和“事件”的特殊性和复杂性，我们打算把它们放到单独的小节里面分别讲解。

### id属性

&emsp;&emsp;每个HTML DOM节点都支持id属性，它是一个HTML标准属性。

&emsp;&emsp;这个标准属性的最大特征就是，它的值必须是一个在整个DOM文档树范围内全局唯一的字符串。在所有遵守这个要求写好的网页里面，我们可以根据这个全局唯一的id值快速高效地查询到元素节点。正确地查询方法如下是这样的：

    //假设网页里有一个id值是“myNode”的HTML DOM节点，正确地查询方法应该是：
    document.getElementById('myNode')

&emsp;&emsp;小练习:你可以用Chrome开发者工具找到任意一个有id属性的节点，然后在控制台里面尝试根据id快速查询。

### 标准属性

&emsp;&emsp;HTML DOM节点还支持其他最新HTML标准里面规定的HTML元素属性。

### 自定义属性

&emsp;&emsp;可以用“data-*”格式的属性名在HTML DOM节点里面加入自定义数据，HTML DOM节点支持对这种用户自定义数据的查询和修改。

## 2.3 样式属性

## 2.4 事件属性
