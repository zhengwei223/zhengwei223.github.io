---
layout: post
title: 用CSS美化网页
category: Web前端入门教程
tags: Web前端
author: 曹小虎
keywords: lanqiao 蓝桥 全栈 教程 Web前端
description: 如果说HTML定义了一块原木门板的框架和外形，那么CSS就能给它加上七彩颜色和漂亮花边。CSS的用途就是定义网页显示成什么样子，比如页面上采用什么种类、颜色、大小的字体，HTML元素的背景、边框是什么，以及超文本的色彩、纹饰......
---

> 本章目标

- 用CSS美化唐诗页面
- 用美化唐诗排行榜数据表格

# 实验一：美化唐诗页面

目标：

这个实验我们用CSS来美化之前的《登鹳雀楼》唐诗页面，在这个过程中我们了解到一些CSS的基础知识和基本用法。实验结束的时候，大家应该可以看到一个具有视觉冲击力的诗词页面：  

 ![tangshi_top10_table](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_preview.gif){:width="500px" height="400px"}

&emsp;&emsp;我们已经在上一章的“tangshi.html”页面之上增加了一些内容（主要是“注释译文”的区域），你可以直接下载到这个[tangshi-css-01-draft.html](https://coding.net/u/sunrise2075/p/web-front-exercises/git/blob/master/html/tangshi-css-01-draft.html)文件。


## 1.1 使用标签选择器

&emsp;&emsp;开始的时候，你手上的页面应该是这个样子：

 ![tangshi_css_step01](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step01.gif){:width="400px" height="300px"}

### hr元素背景

&emsp;&emsp;hr标签的作用是在页面上绘制一条水平分隔线。

&emsp;&emsp;在页面上有两条水平分隔线，想要给它增加背景图片，我们需要使用如下代码替换原来的hr标签：

    <hr style="background: url(../imges/yunwen.png) repeat-x 0 0;height: 44px;" />

&emsp;&emsp;刷新页面就可以为看到水平分隔线定义的背景图片效果：

 ![tangshi_css_step02](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step02.gif){:width="400px" height="300px"}

&emsp;&emsp;为了统一定义**全部**hr元素的背景图片，我们先移除hr标签内的“style”属性表达式，然后在HTML文档的头部、titile元素下面，插入如下代码：

    <style>

    hr /* 用标签名选中页面上的全部hr元素 */ { /* CSS声明块开始 */
        height :  44px; 
        background : url(../imges/yunwen.png) repeat-x 0 0; 
    }/* CSS声明块结束 */

    </style>

&emsp;&emsp;重新刷新页面，可以看到水平分隔线的样式跟*style属性表达式*的效果一样。

### body元素背景

&emsp;&emsp;为整个页面定义背景图片，需要修改body元素的开始标签。

&emsp;&emsp;具体代码如下：

    <body style="background: url(../imges/dengguanquelou_gb.jpg) no-repeat center center fixed;background-size: 99.9% 99.9%;">

&emsp;&emsp;刷新页面之后可以看到页面也有了自己的背景图片：

 ![tangshi_css_step03](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step03.gif){:width="400px" height="300px"}

&emsp;&emsp;同样，我们也可以把这个定义写入到文档头部。具体做法是，先移除body标签内的“style”属性表达式,然后在“水平分隔线的样式定义结束”之后，插入以下代码：

    body{
      background: url(../imges/dengguanquelou_gb.jpg) no-repeat center center fixed;
      background-size: 99.9% 99.9%;
    }

&emsp;&emsp;重新刷新页面，可以看到水平分隔线的样式跟*style属性表达式*的效果一样。

### 修改hr元素透明度

&emsp;&emsp;看得出来，hr元素的背景图片位于body元素背景图片上方，所以会在某些时候遮挡后者的背景图。

 ![tangshi_css_step04](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step04.png){:width="400px" height="300px"}

&emsp;&emsp;为了消除这种遮挡效果，可以修改hr元素的透明度。你需要在“hr元素样式定义结束”之前的大括号里面增加“透明度”属性的定义，具体代码如下：

    opacity:0.3; /* 透明度的值从 0.0 （完全透明）到 1.0（完全不透明） */

&emsp;&emsp;刷新页面，可以看到如下效果：

 ![tangshi_css_step05](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step05.png){:width="400px" height="300px"}

## 1.2 使用id和class选择器

&emsp;&emsp;Web设计中很大一部分工作都跟处理文本有关，这些文本可能位于标题、段落、列表等元素当中。

### 用id属性控制元素文本居中

&emsp;&emsp;移除h1、h2、h3和p元素开始标签里面的align属性表达式。刷新页面就会看到，这些元素全部跑回到浏览器窗口左边显示了。

 ![tangshi_css_step06](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step06.png){:width="400px" height="300px"}

&emsp;&emsp;现在，我们要用CSS来控制有关页面元素的文本位置。

&emsp;&emsp;第一步，想要控制标题、朝代和作者这几个文本居中，用下面的代码修改大标题元素：

    <h1 id="poetrytitle">登鹳雀楼</h1>
    <h2 id="dynasty">朝代：<span>唐代</span></h2>
    <h2 id="author">作者：
      <a href="http://baike.baidu.com/link?url=lpIlPKzOsF7FEzLpE8crassxgzOx8VJa3gAN7W2lSR478fGBD-w6W25aOYKzUvSzf41iojrxWfkQy70W8ZchEeITy7hlO0_5JBYHREOP51CIwBbNaarpC9v06M8eCgCb">
      王之涣
      </a>
    </h2>

&emsp;&emsp;然后页面上style元素的区域内，追加下面的CSS代码：

     /* 根据元素id值选中单个元素 */
    #poetrytitle{
      text-align:center;  /* 文本对齐方式：居中; */
    }

     /* 根据元素id值选中单个元素 */
    #dynasty{
      text-align:center;  /* 文本对齐方式：居中; */
    }

     /* 根据元素id值选中单个元素 */
    #author{
      text-align:center;  /* 文本对齐方式：居中; */
    }

&emsp;&emsp;刷新页面，这些元素的这些元素里面的文本内容回到浏览器窗口中间位置：

 ![tangshi_css_step07](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step07.png){:width="400px" height="300px"}

### 用class属性控制元素文本居中

&emsp;&emsp;还可以通过元素的class属性来定义文本内容居中。

&emsp;&emsp;首先，用下面的代码重新定义四句唐诗：

    <p class="poetrybody">白日依山尽，<span>黄河入海流。</span></p>
    <p class="poetrybody">欲穷千里目，<span>更上一层楼。</span></p>

&emsp;&emsp;然后页面上style元素的区域内，追加下面的CSS代码：

    /* 选中页面上所有class属性等于poetrybody的元素 */
    .poetrybody{ 
        text-align: center ;  /* 文本对齐方式：居中; */
	}

&emsp;&emsp;刷新页面，可以看到页面上两个class属性等于**poetrybody**的段落元素实现文本居中：

 ![tangshi_css_step08](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step08.png){:width="500px" height="400px"}

### 改动字体的类型和大小

&emsp;&emsp;想要构建出视觉上具有专业水准而非随意堆砌的页面文本，需要考虑众多因素。

&emsp;&emsp;其中，字体是网站内容品质的最直观表现。

&emsp;&emsp;接下来，我们一起为几处不同的页面文本设定各自的文本字体类型、大小、粗细和颜色。

&emsp;&emsp;详细代码如下：

         /* 根据元素id值选中单个元素 */
    #poetrytitle{
       text-align:center;  /* 文本对齐方式：居中; */
       font-family:"微软雅黑";   /* 字体类型：“微软雅黑” */
    }
    
     /* 根据元素id值选中单个元素 */
    #dynasty{
       text-align:center;  /* 文本对齐方式：居中; */
       font-family:"仿宋"; /* 字体类型：“仿宋” */
    }
    
     /* 根据元素id值选中单个元素 */
    #author{
       text-align:center;  /* 文本对齐方式：居中; */
       font-family:"楷体"; /* 字体类型：“楷体” */
    }

    /* 选中页面上所有class属性等于poetrybody的元素 */
    .poetrybody{ 
        text-align: center ; /* 文本对齐方式：居中; */
		font-family:"宋体"; /* 字体类型：“宋体” */
        font-size:30px;     /* 字体大小30像素 */
        font-weight:bolder; /* 字体加粗，另外lighter，normal，bold，bolder几个值可以用 */
        color:blue; /* 字体颜色：蓝色 */
	}

&emsp;&emsp;刷新页面，我们可以看到：

 ![tangshi_css_step09](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step09.png){:width="500px" height="400px"}

## 1.3 使用伪类选择器

&emsp;&emsp;网页里的超级链接的一共有四种状态，分别是未访问（link）、已访问（visited）、鼠标悬停（hover）和激活（active）状态。

&emsp;&emsp;与之对应，CSS规范里面有与这几个状态对应的伪类，可以用来选中处于不同状态的超级链接。

### 定义四种状态下超级链接的外观

&emsp;&emsp;使用下面的代码定义超级链接的外观样式：

    /* 跟在标签名后面的伪类选择器必须以冒号开头 */ 
    a:link { color:blue; }  
	a:visited { color:red; }
	a:hover{ text-decoration:none; } /* 当鼠标悬停到链接上方时，超文本的下划线消失 */
	a:active { color:navy; }

### 同时使用属性选择器

&emsp;&emsp;想要单独页面底部参考资料列表里面的第一个超级链接元素，就要用到更加特殊的定位方式。

&emsp;&emsp;其中有一个关键点，即：唯独这个a元素内部定义了一个target属性。

&emsp;&emsp;使用下面代码，定义被点击过的链接颜色是“绿色”：

    /* 
     在标签名后面插入属性选择器，
     进一步把定义了这个属性、属性值满足表达式条件的标签过滤出来
     */
    a[target="_blank"]:link { color:yellow; }
	a[target="_blank"]:visited { color:green; }
	a[target="_blank"]:hover { text-decoration:overline; } /* 当鼠标悬停到链接上方时，超文本的下划线消失，顶部出现上划线 */
	a[target="_blank"]:active { color:firebrick; }

&emsp;&emsp;刷新页面，可以看到，这个元素在四种状态下的颜色不一样。

最后刷新页面，我们可以看到：这两个超级链接在不同的状态下有各自不同的表现效果：

 ![tangshi_css_step10](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step10.gif){:width="500px" height="400px"}

## 1.4 使用伪元素选择器

&emsp;&emsp;我们来修改“注释译文”这个定义列表里面的文本。

### :first-letter

&emsp;&emsp;如何才能控制“现代文译文”里面每一行第一个字的样式？

&emsp;&emsp;首先，给中文翻译部分全部p元素增加class属性：

    <h3>现代文译文之一</h3>
    <p class="notes1">
       夕阳依傍着西山慢慢地沉没，滔滔黄河朝着东海汹涌<span>奔流。</span>
    </p>
    <p class="notes1">
       若想把千里的风光景物看够，那就要登上更高的一层<span>城楼。</span>
    </p>
    
    <h3>现代文译文之二</h3>
    <p class="notes1"> 
       太阳依傍山峦渐渐下落，黄河向着大海滔滔东流。
    </p>
    <p class="notes1">
       如果要想遍览千里风景，请再登上一层高楼。
    </p>

&emsp;&emsp;然后页面上style元素的区域内，追加下面的CSS代码：

    /* 
    这里用了一个复杂的选择器，一共有要点值得注意：
     1.从左到右标签名p、以点号开头的类名和以冒号开头的伪类名 
     2.前两个选择器选中了class（类名）是notes1的p（段落）
     3.伪类选择器进一步选中了段落的第一个字
     */
    p.notes1:first-letter{
	  color:blue;
	  font-size:30px;
	  font-style:italic; /* 字体样式定义为斜体 */
	}

&emsp;&emsp;刷新页面。可以看到，相关段落的第一个字母已经发生变化：

 ![tangshi_css_step11](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step11.png){:width="500px" height="400px"}

### :first-line

&emsp;&emsp;可以用这个伪类选择器定位到段落里面的第一行文本。与此同时，我们还可以把它和first-letter伪类选择器一起配合使用。

&emsp;&emsp;首先，给“英文译文”段落增加class属性：

    <p class="notes2">
      The sun beyond the mountain glows;The Yellow River seawards flows.
      You can enjoy a grander sight;By climbing to a greater height.
    </p>

&emsp;&emsp;然后页面上style元素的区域内，追加下面的CSS代码：

    /* 
      选中英文译文所在段落的第一行文字，修改样式 
     */
    p.notes2:first-line{
	  color:yellow;
	  background-color:lightseagreen;
	}
	
    /* 
      选中英文译文所在段落的第一个文字，修改样式
     */
	p.notes2:first-letter{ /* 这个选择器的定位更具体、更有针对性  */
	  color:red;
	  font-size:30px;
	  font-style:italic;
	}

&emsp;&emsp;刷新页面之后可以看到如下效果：

 ![tangshi_css_step12](http://lemon.lanqiao.org:8082/teaching/img/css/tangshi_css_step12.gif){:width="600px" height="500px"}

## 1.5 新建和导入CSS文件

### 保存文件

&emsp;&emsp;现在我们用notepad++文本编辑器创建一个独立的CSS文件。

 ![create_tangshi_css](http://lemon.lanqiao.org:8082/teaching/img/css/create_tangshi_css.gif){:width="600px" height="500px"}

### 在HTML里面引用CSS文件

&emsp;&emsp;在HTML文档头部引入样式文件：

    <link rel="stylesheet" type="text/css" href="../css/tangshi.css">

&emsp;&emsp;具体操作步骤和效果如下：

 ![create_tangshi_css](http://lemon.lanqiao.org:8082/teaching/img/css/create_tangshi_css.gif){:width="600px" height="500px"}

---

# 实验一的解读

&emsp;&emsp;CSS的全名是“Cascading Style Sheet”，中文意思是“级联样式表”。

 ![css_char](http://lemon.lanqiao.org:8082/teaching/img/css/css_char.jpg){:width="200px" height="100px"}

&emsp;&emsp;在实验一里我们主要干了三件事：

 1. 在HTML文档头部的“style”元素内写入定义HTML元素显示效果（样式）的代码
 2. 新建后缀名为“.css”的文本文件，把“style”元素内的样式代码剪切到CSS文件
 3. 在HTML文档头部用“link”标签引用CSS文件

&emsp;&emsp;现在我们一起回头看看刚刚做过的工作。

---

## 什么是CSS

&emsp;&emsp;CSS这个英文简写的含义已经超出了它的字面意思。这个问题需要分别从几个角度理解。

### 定义网页怎么显示的文本文件

&emsp;&emsp;创建**CSS文件**的过程足以说明它是一种文本文件，只不过后缀名是“.css”。

 ![css_file_in_folder](http://lemon.lanqiao.org:8082/teaching/img/css/css_file_in_folder.png){:width="500px" height="250px"}

&emsp;&emsp;**CSS文件**的内容是**CSS代码**（CSS code）。

&emsp;&emsp;这些**CSS代码**，包含了对网页里一个或者多个HTML元素的显示方式的定义（通俗地说，“网页应该怎么显示”），具体包括页面的用背景什么图片，文字显示成什么样的字体、颜色和大小，还有元素本身的尺寸（比如说高度）等等。

 ![view_css_code_in_block](http://lemon.lanqiao.org:8082/teaching/img/css/view_css_code_in_block.gif){:width="500px" height="400px"}

### 外部CSS、内部CSS和行内CSS

&emsp;&emsp;在实验一开始的时候，我们把CSS代码放在HTML文档头部的“style”元素的内容区。这种做法也可以起到控制页面元素显示效果的作用。

&emsp;&emsp;即使把原来写好的CSS代码全部剪切到独立的CSS文件、再用“link”元素引用这个文件，我们仍然可以在style元素中写入新的CSS代码。

>这种从外部文件引入的**CSS代码**就是**外部CSS**（external CSS），在网页头部“style”元素里面的**CSS代码**就是**内部CSS**（internal CSS）。

&emsp;&emsp;除了上述两种类型的CSS，根据W3C的HTML标准，开发者还可以在HTML元素的开始标签里面使用“style”属性来决定一个元素显示成什么样子：

    <tagname style="stylevalue">

&emsp;&emsp;这个做法就是在定义当前HTML元素的**行内CSS**（inline css）。

---

## CSS属性和值

&emsp;&emsp;CSS的基本目标是让浏览器以指定的特性去绘制页面元素，比如颜色，定位，装饰。换句话说，就是要将CSS属性设定为特定的值。

&emsp;&emsp;CSS的语法反映了这个目标，由下面两个部分构建：
 1. 属性（ property）是一个标识符，用可读的名称来表示其特性。
 2. 值（value）则描述了浏览器引擎如何处理该特性。每个属性都包含一个有效值的集合，它有正式的语法和语义定义，被浏览器引擎实现。

&emsp;&emsp;目前CSS中有 100 多个属性 ，并且几乎有无限多个不同的值。并非所有的属性与值的配对都是被允许的，每个属性都定义了它的合法值。如果值对给定的属性而言非法时，声明就会被视为无效，并且会被忽略。

&emsp;&emsp;此处不再一一提及实验一里用到的CSS属性和相关属性值。大家可以参考W3School的[CSS属性完整列表](http://www.w3school.com.cn/cssref/)深入了解这些决定HTML元素显示效果的CSS属性。

## CSS声明

### 一条CSS声明开始

&emsp;&emsp;一个属性与值的键值对被称为”声明“（declaration）。Web浏览器会计算页面上每个元素都有哪些CSS声明，并且会根据结果绘制元素，排布样式。

&emsp;&emsp;在CSS中，属性和值对大小写都是敏感的（实际上CSS对大小写并不敏感）。属性与值之间以英文冒号 **':'** 隔开。属性与值前面、后面与两者之间的空白不是必需的，会被自动忽略。

 ![css syntax - declaration](http://lemon.lanqiao.org:8082/teaching/img/css/css syntax - declaration.png){:width="500px" height="400px"}

### 多条CSS声明组成一个CSS声明块

&emsp;&emsp;声明会按照块的形式被组合。声明块（declaration block）以英文左大括号（**'{'**）开始，以英文右大括号 （**'}'**） 结束。块有时会嵌套，所以开始与结束大括号必须要匹配。

 ![css syntax - block](http://lemon.lanqiao.org:8082/teaching/img/css/css syntax - block.png){:width="400px" height="300px"}

&emsp;&emsp;声明块里面的声明之间使用英文分号（**';'**）隔开。声明块可能为空，也就是包含空的声明。声明之间的空格会被忽略，声明块里最后一个声明可以不用分号，不过建议加上，以方便扩展声明块。

 ![css syntax - declarations block](http://lemon.lanqiao.org:8082/teaching/img/css/css syntax - declarations block.png){:width="600px" height="500px"}


## CSS规则定义

&emsp;&emsp;如果样式表只能为每个页面元素添加一个声明，那就没有真正发挥出它的价值。其真正的目标是为文档不同部分添加不同的声明。

### 使用CSS选择器

&emsp;&emsp;在CSS声明块前面放置CSS选择器（selector)，就可以定位到多个符合选择器条件的页面元素。一对选择器与声明块称为规则集（ruleset)，常简称为规则（rule)。

 ![css syntax - ruleset](http://lemon.lanqiao.org:8082/teaching/img/css/css syntax - ruleset.png){:width="600px" height="500px"}

&emsp;&emsp;在这里需要顺便提到一点：我们在实验一里面也用到了一些最常用的CSS选择器，限于篇幅此处不再一一列举。同学们可以参考W3School的[css选择器完整列表](http://www.w3school.com.cn/cssref/css_selectors.ASP)获得更多关于更多类型选择器的信息。


# 实验二：用CSS控制数据表外观

&emsp;&emsp;上一章节，我们在编制数据表格的过程中，通过table元素的boder属性来控制表格边框粗细，通过cellspacing控制表格内部td之间的空隙，通过cellpadding控制这些td边框跟内容之间的距离。

&emsp;&emsp;这个实验里面，我们就一起实践，用纯CSS控制表格的显示方式。

## 2.1 控制表格框架

&emsp;&emsp;先从代码仓库下载到名字是“tangshi-top10-css-draft.html”的网页文件，里面有一个数据表格，它的开始标签里没有任何属性定义，因此是一个原始的HTML table，样子如下：

 ![html_table_with_no_css](http://lemon.lanqiao.org:8082/teaching/img/css/html_table_with_no_css.png){:width="600px" height="500px"}

### 控制边框

&emsp;&emsp;在页面头部创建内部CSS（internal CSS），并且包含控制表格边框的CSS代码如下：

    <style>
    /* 用CSS选择器选中table、th和td标签 */
    table, th, td {
     border: 1px solid black;  /* 边框粗细1个像素，边框类型是“实线”，边框颜色是“黑色” */
    }
    </style>

&emsp;&emsp;刷新页面，可以看到表格边框发生如下变化：

 ![table_border_preview](http://lemon.lanqiao.org:8082/teaching/img/css/table_border_preview.png){:width="600px" height="500px"}

&emsp;&emsp;在上面的CSS声明里面，“solid”这个值定义了边框样式,你可以通过[W3School CSS border-style](http://www.w3school.com.cn/cssref/pr_border-style.asp)进一步了解CSS标准支持的其他属性值，并且在这个页面上尝试效果。

&emsp;&emsp;请你尝试把上述CSS代码里面的“th”和“td”两个选择器去掉，看看会发生什么情况？

### 收起表格边框

&emsp;&emsp;继续加入如下内容的CSS代码。

    table {
      border-collapse: collapse;/* 使表格边框合并成单一边框 */
    }

&emsp;&emsp;刷新页面可以看到，[CSS border-collapse](http://www.w3school.com.cn/cssref/pr_tab_border-collapse.asp)属性取值为“collapse”的时候，表格边框合并起来了：

 ![table_border_collapse_preview](http://lemon.lanqiao.org:8082/teaching/img/css/table_border_collapse_preview.png){:width="600px" height="500px"}

### 控制表格宽度和高度

&emsp;&emsp;继续加入如下内部CSS代码：

    table {
      width: 100%; /* 表格宽度占据屏幕宽度100% */
    }

    th {
      height: 50px; /* 表头高度为50像素 */
    }

&emsp;&emsp;刷新页面可以看到，表格的宽度可以随着浏览器窗口的宽度自动调整：

 ![table_width_100_percent_preview](http://lemon.lanqiao.org:8082/teaching/img/css/table_width_100_percent_preview.gif){:width="600px" height="500px"}

## 2.2 修改表格内容

&emsp;&emsp;这一部分，我们将会尝试用CSS控制表格单元格内部的文字。

### 控制th内文本对齐方式

&emsp;&emsp;继续加入如下内部CSS代码：

    th {
       text-align: center; /* 此处定义文本对齐方式是“居中” */
    }

&emsp;&emsp;刷新页面以后可以看到：

 ![table_th_align_left_preview](http://lemon.lanqiao.org:8082/teaching/img/css/table_th_align_left_preview.gif){:width="600px" height="500px"}

&emsp;&emsp;表格里面“th”元素的“text-align”样式有一个默认值，你能推断出这个值是什么吗？

### 控制td内部文本的垂直对齐

&emsp;&emsp;继续加入如下内部CSS代码：

    /* 选中表格里的全部td元素 */
    td {
    height: 50px; /* 高度50像素 */
    vertical-align: bottom; /* 垂直对齐方式：底部 */
    }

&emsp;&emsp;刷新页面以后可以看到：

 ![table_td_height_valign_preview](http://lemon.lanqiao.org:8082/teaching/img/css/table_td_height_valign_preview.gif){:width="600px" height="500px"}


### 控制th和td元素内边距

&emsp;&emsp;之前我们只用过table元素的“cell-padding”属性，它的作用就是控制表格边框和文本之间的间隙大小，用CSS也可以实现同样的效果。

&emsp;&emsp;继续加入如下内部CSS代码：

    th, td {
      padding: 15px;
      text-align: left;
    }

&emsp;&emsp;刷新页面可以看到下面的变化：

 ![table_padding_preview](http://lemon.lanqiao.org:8082/teaching/img/css/table_padding_preview.gif){:width="600px" height="500px"}


## 2.3 控制表格整体外观

### 只显示单元格下边框

&emsp;&emsp;继续加入如下内部CSS代码，同时注释掉之前的“border”属性定义：


    /* 用CSS选择器选中table、th和td标签 */
    table, th, td {
     //border: 1px solid black;  /* 边框粗细1个像素，边框类型是“实线”，边框颜色是“黑色” */
    }

    /* ......此处省略代码若干行...... */

    th, td {
      border-bottom: 1px solid #ddd;
    }

&emsp;&emsp;刷新页面，可以看到：

 ![table_border_bottom_preview](http://lemon.lanqiao.org:8082/teaching/img/css/table_border_bottom_preview.gif){:width="600px" height="500px"}

### 使用伪类选择器hover

&emsp;&emsp;为类选择器的作用是选中某个状态下的HTML元素。比如说，当元素正上方有鼠标悬停的时候。

&emsp;&emsp;继续加入如下内部CSS代码：

    /* 当tr元素上方有鼠标悬停的时候 */
    tr:hover {
      background-color: #f5f5f5     /* 修改tr元素背景色 */
    }

&emsp;&emsp;刷新页面就可以看到不同，此处不再截图。

&emsp;&emsp;我们在这里用到了十六进制表示法的颜色值。

### 使用伪元素选择器nth-child

&emsp;&emsp;接下来把表格的奇数行和偶数行用不同的颜色区分开。

&emsp;&emsp;继续加入如下内部CSS代码：

    /* 选中偶数行的tr元素 */
    tr:nth-child(even) {
      background-color: #f2f2f2;  /* 选中偶数行的tr元素 */
    }

&emsp;&emsp;刷新页面就可以看到不同，此处不再截图。

### 修改表头颜色

&emsp;&emsp;继续加入如下内部CSS代码：

    /* 选中表头单元格 */
    th {
      background-color: #4CAF50; /* 背景色是绿色 */
      color: white; /* 字体颜色是白色 */
    }

&emsp;&emsp;刷新页面就可以看到：

 ![table_th_style_preview](http://lemon.lanqiao.org:8082/teaching/img/css/table_th_style_preview.png){:width="600px" height="500px"}

&emsp;&emsp;表头样式已经发生变化。

# 实验二的解读

&emsp;&emsp;实验二我们的主要工作是通过CSS来控制页面上数据表格的显示方式。

## 网页的内容和样式分离

&emsp;&emsp;早期的HTML语言里面有很多特殊的标签和属性，被用来做使字体倾斜（i标签）、字体加粗（b标签）、令文本在窗口里居中（h1~h6标签的align属性）等等这些与页面元素外观样式有关的事情。

&emsp;&emsp;随着万维网技术的发展，人们越来越多使用专门的CSS文件集中定义网页样式，并且W3C也把网页的内容（HTML）和样式（CSS）分离的做法作为最佳实践来宣传、推广。

 ![css_seperate_content_and_style](http://lemon.lanqiao.org:8082/teaching/img/css/css_seperate_content_and_style.jpg){:width="400px" height="300px"}

&emsp;&emsp;遵循这种行业最佳实践、行内通行做法，你会在随后的日子里收获到作为一名新手无法想象的好处。

### 网页的结构和内容

>网页的内容，是一个综合性的概念，它包括文字、图像、视频、声音、动画和文件（比如PDF文档）所有这些你想交付给读者的东西。

&emsp;&emsp;比如说，你想让读者看到一篇[新闻报道](http://www.gx211.com/news/201663/n6427370779.html)，那么，这篇新闻的文字内容是什么，哪个是大标题、正文需要分几个段落，需要什么图片，这些都可以通过相关的HTML标签来定义：大标题可以用h1标签，段落用p标签，图片用img标签。

 ![html_content_structure_preview](http://lemon.lanqiao.org:8082/teaching/img/css/html_content_structure_preview.gif){:width="800px" height="600px"}

&emsp;&emsp;借助于Chrome开发者工具我们可以看到，由于HTML文档是一个树形结构，定义页面内容的这些HTML标签按照什么结构组合（嵌套）在一起，作为节点的HTML元素之间存在什么样的上下级关系和兄弟关系，在你用HTML定义网页内容的同时也就确定无疑了。

### 网页的样式

&emsp;&emsp;页面的样式是指跟HTML元素视觉效果有关的各种属性，包括页面背景，文字颜色、字体样式、字号大小、段落对齐，图片尺寸等等。

&emsp;&emsp;我们通过开发者工具删除掉网页的外部CSS，来演示CSS如何改变页面的视觉效果：

 ![html_content_style_preview](http://lemon.lanqiao.org:8082/teaching/img/css/html_content_style_preview.gif){:width="800px" height="600px"}


## 使用颜色和宽度属性

### 颜色

&emsp;&emsp;我们在控制表格显示外观的过程中，多次用到颜色。其中主要是使用**颜色名称**和**十六进制数字**表示颜色。

在CSS里面使用颜色是一个很重要的话题，想要了解有关HTML颜色的更多信息，建议你查看W3C相关的[HTML 颜色](http://www.w3school.com.cn/html/html_colors.asp)页面上的详细内容。

### 宽度

&emsp;&emsp;我们在控制table元素宽度的时候，使用了“100%”作为属性值，结果表格宽度就占据了整个浏览器窗口的宽度、并且可以随之变化。关于[CSS width属性](http://www.w3school.com.cn/cssref/pr_dim_width.asp)的更多用法,你可以参考W3School的页面了解CSS标准是怎么定义的。

&emsp;&emsp;

&emsp;&emsp;



# 实验三：演示CSS规则生效方式

把CSS（Cascading style sheet）这个词完整直译过来就是“**像瀑布一样飞流而下的网页外观定义文件**”。这个实验的目的就是要帮助大家理解CSS究竟如何像瀑布一样飞流直下，决定了网页上某一个HTML元素的显示效果。按照W3C标准，在网页里面从头部开始，全部CSS定义将会按照外部样式、内部样式、内联样式的顺序自上而下排列。

本实验将会回答以下三个问题：

 1. 当这三个地方的CSS属性定义发生冲突的时候，页面元素如何显示？
 2. CSS选择器如何影响页面元素的显示？
 3. 没有CSS选择器直接定位到元素的情况下，它的显示方式由什么决定？


## 3.1 验证CSS瀑布流

### 下载网页副本

&emsp;&emsp;在新的浏览器窗口打开这个[网页](http://www.miitec.cn/miitectw/index/com.qdunis.article.ActionTWArticleForOutSide.do?doType=listTopic&topic_id=175),根据图片里的操作步骤保存本地副本：

 ![save_html_4_cascading_demo](http://lemon.lanqiao.org:8082/teaching/img/css/save_html_4_cascading_demo.gif){:width="800px" height="600px"}

&emsp;&emsp;我们可以随意修改这些网页副本而不会影响到万维网上原来那个网页。

### 查看页面元素原有样式定义

&emsp;&emsp;用NotePad++编辑器打开“工业和信息化部人才交流中心.html”文件，和这个文件引入的“style_n.css”文件，打开Chrome开发者工具。

 ![prepare_tool_4_cascading_demo](http://lemon.lanqiao.org:8082/teaching/img/css/prepare_tool_4_cascading_demo.gif){:width="800px" height="600px"}

&emsp;&emsp;打开Chrome DevTool以后，选中页面上代表的一个元素，我们可以在工具窗口界面右边的“style”面板可以看到标题背景颜色和字体颜色的定义：

 ![1st_el_style_detail](http://lemon.lanqiao.org:8082/teaching/img/css/1st_el_style_detail.png)

&emsp;&emsp;找到“style_n.css”文件第73行，把它复制出来,可以看到类似类容：

    /* 连续使用三个Class选择器 */
    .ctn-box .wrapper-header .title
    {
      /* 只保留标题部分背景色和字体颜色定义 */
      background:#024f79; /* 蓝色背景 */
      color:#fff;  /* 白色字体 */
    }

### 内部样式覆盖外部样式

&emsp;&emsp;在head元素结束标签之间插入下面的代码作为网页内部样式：

    <style>
    /* 同样的选择器 */
    .ctn-box .wrapper-header .title
    {
      /* 不同的背景颜色和字体颜色定义 */
      background:yellow; 
      color:red;
    }
    </style>

&emsp;&emsp;刷新页面，可以看到，由于内部样式（internal CSS）的作用，**标题元素的视觉效果发生第一次变化**：

 ![add_internal_style_4_cascading_demo](http://lemon.lanqiao.org:8082/teaching/img/css/add_internal_style_4_cascading_demo.gif){:width="800px" height="600px"}

### 内联样式覆盖内部样式

&emsp;&emsp;用下面的代码覆盖页面上的标题元素。注意，我们为它加上了“style”属性，也就是内联样式（inline style）：

    <span class="title" style="background:green;color:pink;">蓝桥软件学院简介</span>

&emsp;&emsp;可以看到，由于内联样式（inline CSS）的作用，**标题元素的视觉效果第二次发生变化**：

 ![add_inline_style_4_cascading_demo](http://lemon.lanqiao.org:8082/teaching/img/css/add_inline_style_4_cascading_demo.gif){:width="800px" height="600px"}

### 启用或者禁用CSS

&emsp;&emsp;在Chrome开发者工具里面查看标题元素的样式面板，可以看到，之前外部样式、内部样式里对背景色和字体色的定义都被画上了一道横线：

 ![el_deleted_style_rule](http://lemon.lanqiao.org:8082/teaching/img/css/el_deleted_style_rule.png){:width="400px" height="500px"}

&emsp;&emsp;我们在DevTools的元素“样式”面板上做一个小的实验：

 ![switch_style_4_cascading_demo](http://lemon.lanqiao.org:8082/teaching/img/css/switch_style_4_cascading_demo.gif){:width="800px" height="700px"}

&emsp;&emsp;可以看到：**直接禁用内联样式，内部样式自动生效；进一步禁用内部样式，那么外部样式就会自动生效**。


## 3.2 探索CSS选择器优先级

### 把正文拆分成段落

&emsp;&emsp;网页的正文部分放在一个class属性是“mk-info”里面。我们先用p标签把这段正文划分成多个段落,并且在页面的内部样式区增加如下代码：

    p {
        text-indent:5%;
    }

&emsp;&emsp;刷新页面可以看到如下效果：

 ![divide_content_into_p_el](http://lemon.lanqiao.org:8082/teaching/img/css/divide_content_into_p_el.png){:width="400px" height="500px"}

### 多个选择器命中同一个元素

&emsp;&emsp;为第一个段落的开始标签里面增加id属性和class值：

    <p id="para1" class="firstPrargraph">
       这里省略了第一个段落的文字内容......
    </p>

&emsp;&emsp;以下几步，请你每完成一步就立即刷新页面，查看第一个段落的字体颜色的变化。

&emsp;&emsp;首先在头部为p标签定义字体颜色：

    /* 使用标签名选中页面全部段落 */
    p {
        text-indent:5%;
        color:red;
    }

&emsp;&emsp;第二步，通过class属性值为第一个段落定义字体颜色：

    /* 根据class的值选中第一个段落 */
    .firstPrargraph {
        color:green;
    }

&emsp;&emsp;第三步，通过id值为第一个段落定义字体颜色：

    /* 根据id的值选中第一个段落 */
    #para1 {
        color:blue;
    }

&emsp;&emsp;第四步，在div上下文里面，通过id值为第一个段落定义字体颜色：

    /* 在div上下文里面，根据id的值选中第一个段落 */
    div #para1 {
        color:pink;
    }

&emsp;&emsp;第五步，打开Chrome DevTools，查看当前元素的样式属性界面：

 ![css_selector_specificity_demo](http://lemon.lanqiao.org:8082/teaching/img/css/css_selector_specificity_demo.png){:width="400px" height="500px"}

&emsp;&emsp;第六步，你可以自己动手，完全颠倒这几种选择器在内部样式里的行号位置，然后检查页面效果是否会有不同。

 ![css_selector_specificity_demo_2](http://lemon.lanqiao.org:8082/teaching/img/css/css_selector_specificity_demo_2.png){:width="500px" height="600px"}

&emsp;&emsp;你可以尝试从上到下依次禁用目标段落的字体颜色，查看页面有何不同变化。

 ![switch_style_4_cascading_demo_2](http://lemon.lanqiao.org:8082/teaching/img/css/switch_style_4_cascading_demo_2.gif){:width="800px" height="600px"}


>实验结论：Chrome DevTools会把选择器优先级更高的CSS规则定义显示在元素“*Styles*”面板上方：由于**选择器优先级**的影响，更晚命中目标段落的CSS选择器未能修改元素的字体颜色。

## 3.3 CSS的继承和覆盖

### CSS继承和覆盖

&emsp;&emsp;在没有CSS选择器定位到HTML元素的情况下，由于HTML元素特殊的树形结构，下级节点会**继承**上级节点的CSS属性值。

 ![switch_style_4_inherit_demo](http://lemon.lanqiao.org:8082/teaching/img/css/switch_style_4_inherit_demo.gif){:width="800px" height="600px"}

&emsp;&emsp;反过来，如果专门为下级元素定义了新的CSS属性值，那么在它上级元素上定义的CSS属性的值就会被**覆盖**掉。

&emsp;&emsp;

# 实验三的解读

&emsp;&emsp;在网页里面CSS规则生效的过程中，瀑布流规则和CSS优先级规则互为补充，刚好像一颗硬币的两个侧面。

## 详细剖析瀑布流规则

&emsp;&emsp;在讨论瀑布流规则的时候，我们不考虑CSS选择器优先级的影响因素，最简单的做法就是：假设所有CSS规则都采用同一个CSS选择器。

 ![water_fall](http://lemon.lanqiao.org:8082/teaching/img/css/water_fall.jpg){:width="400px" height="300px"}

&emsp;&emsp;按照W3C标准，**外部CSS文件**（external CSS），**内部CSS**（internal CSS），**内联CSS**（inline）应该按照从上到下的顺序逐个出现。如果三个地方出现了相互冲突的CSS规则，那么，处与下位的CSS规则就会生效。这就是所谓的瀑布流规则。

 ![water_flow_cacading_demo](http://lemon.lanqiao.org:8082/teaching/img/css/water_flow_cacading_demo.jpg){:width="500px" height="500px"}

&emsp;&emsp;就像从悬崖顶端跌落的水流，每撞击一次石头，其流向都会发生改变，处与下位的石头始终决定这股水流的实际走向。

&emsp;&emsp;通常外部CSS都会被同一个网站的多个页面公用，从而为整个网站定义统一的页面风格。

&emsp;&emsp;内部CSS被用来覆盖外部CSS的某些定义，决定一些属于当前页面的特殊样式。

&emsp;&emsp;在Chrome DevTools界面显示的CSS规则生效过程中，内联CSS与HTML元素紧密绑定（最顶端的“element.style”面板分区），是对元素样式的最后一次改变。显然，过度使用内联CSS，既增加了页面代码的阅读难度，降低了代码的可维护性，更重要的是这么做有悖于“内容”好和“外观”相互分离的最佳实践。


## 深入理解CSS选择器优先级

### CSS选择器优先级的本质

&emsp;&emsp;拥有更高优先级的CSS选择器，会**更精确地定位到更小范围内**的一部分页面元素；按照CSS的继承和覆盖规则，哪一条CSS规则的选择器优先级更高，就更有“资格”发言，决定页面元素怎么显示。

&emsp;&emsp;不同类型的CSS选择器的优先级孰高孰低，终究取决于哪个选择器的精确定位能力更强。这里有一篇很好的英文文章推荐给大家，保证你看过以后犹如“醍醐灌顶”：[What the Heck Is CSS Specificity?](http://www.pixel-push.com/tag/heck/)。

### 使用Chrome DevTools

&emsp;&emsp;在实验三里，我们带着大家通过查看Chrome DevTools元素“Styles”面板来跟踪元素CSS规则的生效过程。

&emsp;&emsp;在这里内联CSS（element.style）被放在面板顶部的一个分区，离顶部越近的分区，它里面的CSS定义有越高的优先级。因此，CSS生效规则，包括瀑布流规则和CSS优先级规则，都不需要死记硬背。这完全是一个熟能生巧的过程，你只需要勤加练习！



# 习题：

 1.一条完整的CSS规则由哪些部分组成？截至目前你都用过哪几种CSS选择，哪几种CSS属性？请你用语言清楚地描述它们怎么影响页面元素的显示效果。

 2.目前已知h1~h5可以被用来定义网页的大标题。最新的HTML5标准，已经建议“不再使用”这些标签。请问，如果用CSS来制作大标题，可以用什么样的CSS选择器？又会用到哪些CSS属性？请自己动手，把实验一里的标题（h1~h6）标签替换掉。

 3.CSS的ID选择器和class选择器有什么不同？哪一个有更高的优先级？请解释具体原因。

 4.请你用语言描述如何使用Chrome DevTools元素的“Styles”面板查看某一个页面元素的CSS规则生效过程。












