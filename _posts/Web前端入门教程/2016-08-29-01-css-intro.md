---
layout: post
title: CSS网页美容师
category: Web前端入门教程
tags: Web前端
author: 曹小虎
keywords: lanqiao 蓝桥 全栈 教程 Web前端
description: 
---

> 本章目标

- 什么是CSS以及CSS的作用
- CSS标准演变历史
- CSS的语法规则，包括选择器和常用属性
- 页面如何使用CSS
- CSS优先级

# 1. 从世界上第一个网页说起

&emsp;&emsp;请你先打开页面到世界上第一个网页。我们可以把它们源代码下载到本地。

## 1.1 原始状态的网页

&emsp;&emsp;可以看到，这个网页的界面远比我们想象的简单的多。不只是它里面包含的文本内容少（以至于主体内容部分也只用了\<dt\>和\<a\>两种标签），更主要的是它的显示效果很普通。比如说，它的背景色是白色，字体颜色全部显示为黑色，甚至连字号大小（除了第一行的大标题之外）都让人感觉千篇一律、毫无变化。连一张图片都没有，更不要说视频、动画，还有什么用户交互。

&emsp;&emsp;网站的最初目的是给几个专业人员分享信息，Tim Berners-Lee当时肯定觉得只要他的同事们能看明白网页上的文字内容就够了，没必要把网页搞得有多漂亮、多吸引人。1994年10月10号，Hakon Wium Lie（他是Tim Berners-Lee在欧洲原子能组织的一个同事），针对如何定义html元素显示效果的问题，第一次提出了定义html网页显示效果的解决方案，他把这门新的网页样式定义语言（web styling language）命名作**CSS**。

  ![html-xhtml-relation](/public/img/html/father_of_css.png)  

&emsp;&emsp;再后来的事情大家就都知道了，随着时间推移、技术进步，不光是像淘宝、京东、亚马逊这样的网络电商们的网站，还有很多很多企业官网、政府网站，都是越做越漂亮，越来越好看。一句话总结：这些漂亮网站的背后，到处都有CSS的身影。所以，作为一名有志于Web前端大业的初生牛犊，同学们必须要好好学习CSS了！


&emsp;&emsp;我们现在从Tim Berners-Lee制作的世界上第一个网站的源代码里面提取处一部分片段，作为我们今天学习和认识CSS的起点。

    <H1>World Wide Web</H1>
    The WorldWideWeb (W3) is a wide-area
    <A NAME=0 HREF="WhatIs.html">hypermedia</A> information retrieval
    initiative aiming to give universal
    access to a large universe of documents.

  [点击复制按钮并在打开新窗口粘贴、运行以上代码](/public/tiyEditor.html)  

## 1.2 修改页面显示效果

### 标题位置居中

&emsp;&emsp;我们先让代码里面大标题的显示位置从屏幕左边跑到屏幕的正中间：

    <H1 align="center">World Wide Web</H1>

&emsp;&emsp;我们还可以用CSS做出同样效果：

    <H1 style="text-align:center;">World Wide Web</H1>

&emsp;&emsp;上面名称是style的属性定义了标题元素显示的样式，style属性的“内容”，或者说“值”，就是决定了元素“在屏幕上位置居中”的“**样式代码**”。

### 标题字体颜色

&emsp;&emsp;可以用名成为color的css属性定义大标题的颜色为红色（red）：

    <H1 style="text-align:center;color:red;">World Wide Web</H1>

## 1.3 集中定义的样式代码

&emsp;&emsp;除了在HTML元素的的style属性值面写样式代码，我们还可以把样式代码放在别的地方

### HTML文档头部的样式代码

&emsp;&emsp;首先可以把样式代码放在HTML文档的头部：

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
    <HTML>
    <head>
    <style>
         h1 {
            text-align:center;
            color:red;
         }
    </style>
    </head>
    <BODY>
    <h1>World Wide Web</h1>
    
    </BODY>
    </HTML>

  [点击复制按钮并在打开新窗口粘贴、运行以上代码](/public/tiyEditor.html)  

### 单独CSS文件

&emsp;&emsp;还有一种把样式保存在单独文件里面的办法。请你打开Win7系统下的Notepad++文本编辑工具，然后把上面的样式代码复制到一个空白文档里面：

&emsp;&emsp;文件另存为：

  ![mystyle_save_as_style](/public/img/html/mystyle_save_as_style.png)  

&emsp;&emsp;保存成功之后的效果是：

  ![mystyle_save_result](/public/img/html/mystyle_save_result.png)  

### 网页引用CSS文件

&emsp;&emsp;单独的CSS文件写好之后需要被引用到HTML文件里面去，仍然以刚才写好的CSS文件为例，我们在示例代码里面引入它：

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
    <HTML>
    <head>
    <link rel="stylesheet" type="text/css" href="myStyle.css">
    </head>
    <BODY>
    <h1>World Wide Web</h1>
    
    </BODY>
    </HTML>

&emsp;&emsp;其中的**href**属性的含义是"hyper text reference"，它的值是一个CSS文件的完整名称。特别需要说明的是，你需要把HTML页面和CSS放在同一个文件夹里面，就像下面的样子：

  ![html_import_css_demo](/public/img/html/html_import_css_demo.png)

# 2. 咬文嚼字说CSS

&emsp;&emsp;CSS是**Cascading Style Sheet**的缩写,翻译成中文就是“级联样式表”。不要小看这三个英文单词组成的整体名词啊！我们来把几个词拆解开来，仔细探求，究竟这样一种定义了页面显示效果的文件为什么叫这个的名字，了解这个重要信息之后我们就可以丝毫不用费脑子就依靠逻辑推理的力量掌握这个知识点。

## 2.1 什么是CSS

&emsp;&emsp;可以从三个角度来理解究竟什么是CSS：

  ![css_char](/public/img/html/css_char.jpg){:width="200px" height="100px"}

- Sheet：在英文中的意思是“一张就要被书写和打印的纸(a piece of paper for writing or printing on)” 
- style：描述了文件的用途和作用是定义网页的显示效果（style） 
- cascading：描述了样式定义发生作用的方式，“像瀑布一样倾泻而下（to flow downwards in large amounts）”。

### sheet：是一个文本文件

&emsp;&emsp;从CSS文件的创建过程我们可以发现两个有用信息：

&emsp;&emsp;第一：这是一个刻意被人类看懂的纯文本（plain text）文件，里面的内容除了字母，就是空格，要不就是换行；

&emsp;&emsp;第二：它的后缀名是“**.css**”，而且Win7操作系统还可以专门给这种后缀的文件打上特殊符号。

&emsp;&emsp;从这个意义上，我们很容易把它同一张将要被人写上文字的纸联系起来————只需要稍稍发挥想象力、展现你的文学修养，运用一下比喻的修辞手法。虽然不知道当初Hakon Wium Lie究竟怎么会想到会打一个这么蹩脚的比方，但是想想他是以一个工程师科学家全部文学修养来琢磨除了一个这样的新名词，我们还是可以大概想通这件事情！

### style：作用是定义网页的显示效果

  ![html-css](/public/img/html/html-css.png)  

&emsp;&emsp;CSS被用来定义网页的外观样式。上面的图片就很形象地说明了结构（内容）和外观（样式）关系。前者的重点在于元素和元素之间的空间关系，后者就是在已有元素上，应用比如颜色、字体、边框、长度、对齐和阴影等等外观效果。

### cascading ：和瀑布流极为相似


  ![water_fall](/public/img/html/water_fall.jpg){:width="400px" height="300px"}

&emsp;&emsp;大家都知道李白有两句诗，“飞流直下三千尺，疑是银河落九天”，也很容易就能想象到瀑布是什么样子。要说定义网页样式的CSS语言和瀑布有相似之处，我们就必须讲清楚到底这两件事物到底在哪一点上相似。一起来看一张手工绘制的示意图：

  ![waterfall_cascade_into_rive](/public/img/html/waterfall_cascade_into_rive.png){:width="400px" height="300px"}

&emsp;&emsp;水流从最高点落下，中途会碰到一块或者更多岩石，每当水流和石头撞击一次，它的流向就会发生一次改变，直到最后汇入河流。真正重要的事情来了：水流在汇入河流之前那一刹那的走向，和它**最后一次**撞击的石头**有关**,和这股水流开始从最高点落下之前的一刹那的走向**没有**关系。当然，这是一个显而易见的现象，每个人都能看到，每个人都习以为常。CSS文件中样式属性定义的优先级冥冥之中就和这样一个自然现象关联在一起了。

## 2.2 CSS生效规则

&emsp;&emsp;在真实的大型网站开发场景里面，对于同一个HTML元素，可能会有好几个相互冲突的样式定义。比如说，连续有三处代码给通一个大标题定义了不同的颜色。那么问题就来了，究竟哪一个定义能够最终生效？这个生效规则就和瀑布流很有几分相似了。

### 试一试

&emsp;&emsp;上回说到CSS的样式优先级具备瀑布瀑布流的特性。

&emsp;&emsp;来看下面一段代码：

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" 
             "http://www.w3.org/TR/html4/strict.dtd">
    <HTML>
    <head>
    <!-- 引入的外部样式文件里面定义了大标题的字体颜色是红色 -->
    <link rel="stylesheet" type="text/css" href="myStyle.css">
    <style>
    <!-- HTML文档头部的样式代码定义了大标题的字体颜色为绿色 -->
    h1 {
     color :green;
    }
    </style>
    
    </head>
    <BODY>
    <!-- 大标题元素的样式属性定义了它的字体颜色是蓝色 -->
    <h1 style="color:blue;">World Wide Web</h1>
    
    </BODY>
    </HTML>

  [点击复制按钮并在打开新窗口粘贴、运行以上代码](/public/tiyEditor.html)  

&emsp;&emsp;不用我说，上面一段代码运行之后，真正最后生效的是\<h1\>标签里面定义的样式属性，它是最接近大标题元素一次字体颜色定义。

&emsp;&emsp;接下来我们把\<h1\>标签里面的style属性删除掉，看看标题字体显示什么颜色。

&emsp;&emsp;请你把\<style\>元素以及它所包括其中的样式代码，移动到\<link\>元素上方，再检查一下字体显示成什么颜色。

### 一句话总结

&emsp;&emsp;正如瀑布流一样，最终决定一个HTML元素显示效果的是离这个元素最近的那一段CSS代码。

## 2.3 CSS标准的历史

### 第一个版本的CSS
&emsp;&emsp;W3C组织在1996年发布了最早的一个CSS规范（CSS specification）**CSS1**。当年微软公司作为最早的浏览器厂商之一发布了IE3浏览器，对CSS1规范作出了比较简单的支持。随后几年，各个浏览器厂商都在自己生产的浏览中逐步引入对CSS1规范的支持。直到2000年3月份，微软推出了Internet Explorer 5.0 for the Macintosh，这个世界上才是真正有了第一个完全支持（超过99%）CSS1规范的浏览器。

  ![html-xhtml-relation](/public/img/html/css-history.png)  

---

### 第二个版本的CSS

&emsp;&emsp;大家请注意，早在第一个完全支持CSS1的浏览器两年之前，W3C组织就已经发布了**CSS2**规范。无奈，规范是一回事，对规范的支持又是另一回事；我们可以把W3C组织比作我国春秋战国时期的周天子，把各大浏览器厂商比作实力派地方诸侯。虽说周天子作为天下共主具有礼仪和制度上的无上权威，并且把**周礼**发布为规范，但是最终是否执行规范、如何执行规范这样的问题还是取决于地方诸侯的实际需要。同样，CSS规范的执行也总是受制于浏览器市场的发展情况和各大浏览器厂商的商业计划。常言道，“**发展才是硬道理**”，慢慢的，他们真真切切看到了CSS2规范在互联网大潮中的诱人前景，也心知肚明唯有主动发展才可以避免被历史淘汰，认真考虑并且逐步实现对CSS2规范的支持就成了各大实力派厂商的不二选择。

&emsp;&emsp;CSS2.1是现在最新的CSS规范，也是现今互联网(Internet)上受到最广泛支持的规范。它修复了CSS2规范中的一些Bug，删除和添加了一些特性。根据W3C的工作流程，这个版本经过了长时间的反复修订，甚至直到2010年12月份还被退回到**最后的工作草稿**状态接受审议。2011年7月份才被最后一次正式发布给浏览器厂商。至此，CSS2.1规范尘埃落定。

 ![html-xhtml-relation](/public/img/html/css2.1-way.png)  

---

### 第三个版本的CSS

 ![html-xhtml-relation](/public/img/html/css3-logo.jpg)  

&emsp;&emsp;CSS3，准确的全名是**Cascading Style Sheets,Level 3**，完全兼容老版本CSS规范的写法。W3C关于CSS3的工作早在1990年代末就已经开始，最早的CSS3草稿于1999年6月发布。

&emsp;&emsp;鉴于W3C在审议规范时冗长的工作流程，CSS3规范整体上已经不再成为一个单体草稿，而是引入了模块化的概念。CSS3众多模块中的每一个模块都有自己的稳定程度和发布状态，截止2012年7月，W3C的CSS工作组（CSS Working Group）已经发布超过50个CSS模块的草稿，其中四个模块到达最终定稿状态（Formal recommendation），供浏览器厂商参考实现。随着互联网相关行业在全球的进一步升温、浏览器市场竞争日趋激烈，各家厂商也加速了支持CSS3的进度和节奏，以便抢占更大市场份额。

 ![html-xhtml-relation](/public/img/html/browser-vendor-fightings.jpg)  

## 2.3  学习重点

&emsp;&emsp;虽然各个浏览器厂商已经加速支持CSS3规范，但是目前还没有一家厂商的浏览器能够支持CSS3规范中的全部模块，其中的一部分原因在于CSS3规范中的许多模块还在成熟完善的过程当中。目前最稳定时间最长的是CSS2.1规范，市面上主流浏览器已经对规范的大多数特性进行了良好的支持。

&emsp;&emsp;请注意，说了半天CSS标准，但我们学习的对象**不是**W3C发布的任何一个版本的CSS规范。显而易见，CSS规范都要由W3C制定发布，并且最终由浏览器厂商落地实现。虽然CSS规范版本有变化内容有增减，但是CSS在各个浏览器的**基本语法**始终不变。
    
&emsp;&emsp;我们学习的内容是：**CSS基本基本语法**和**已经被市面上的主流浏览器支持的CSS特性**。

&emsp;&emsp;我们学习的目的是：掌握使用样式表开发网站的基本技能。

# 3. CSS基本语法

## 3.1 语法规则

### 3.1.1 基本语法

 ![html-xhtml-relation](/public/img/html/css_grammer_demo.png) 

&emsp;&emsp;参数说明：

&emsp;&emsp;一个属性和属性值合在一起组成一个**属性定义**，**属性**和**属性值**之间的分隔符是**半角标点**(:)。

&emsp;&emsp;定义多个属性的时候，前后两个定义之间必须使用**半角标点**（;）隔开。处在末尾的一个属性定义，我们强力建议使用**半角标点**（;）收尾。

&emsp;&emsp;语法解释：

&emsp;&emsp;选择符，又称选择器，指明网页中要应用样式规则的元素，例如：h1{color:red}是网页中所有的段（h1）的文字将变成红色，而其他的元素（如p）不会受到影响。

---

### 3.1.2 格式

&emsp;&emsp;实际开发过程中，我们在选定的一组HTML元素上往往会声明不止一个属性和属性值。如果CSS的属性太多那么写在一行里不利于阅读：

    h1{color:red; font-size:16px; width:150px; height:50px; border-bottom: 1px solid #333;}

&emsp;&emsp;建议将每条代码写在一个新行内，如下所示：

    h1{
           color:red;
           font-size:16px;
           width:150px;
           height:50px;
           border-bottom: 1px solid #333;
    }

---

### 3.1.3 注释

&emsp;&emsp;就像在Html的注释一样，在CSS中也有注释语句：用/*注释语句*/来标明（Html中使用<!--注释语句-->读者要区分开)。示例代码：

    /*多行注释：
    把h1标签的字体颜色设置为红色
    字体大小为25px*/
    h1{
           color:red;
        font-size:25px;  /*单行注释，字体为25像素*/
  
    }

---

### 3.1.4 表示颜色

&emsp;&emsp;CSS代码里面颜色的写法可以有三种：这3种方式是等价的：

    h1 {color:red;}
    h1 {color:rgb(255,0,0)}
    h1 {color:#FF0000}

&emsp;&emsp;现在的各大浏览器都对一百多种颜色名称提供支持（参考W3C组织提供的相关资料），比如示例代码里面的**red**就是红色的名称。另外，CSS还支持的颜色写法包括RGB写法和十六进制写法。

## 3.2 使用CSS选择器

&emsp;&emsp;CSS里面的选择器是一组用来选择HTML元素的表达式。CSS使用选择器选中一组元素后就可以在这一组元素上应用自己定义的样式。

### 3.2.1 标记选择器

&emsp;&emsp;我们可以在CSS代码里面使用**标记名称**选中元素。下面的例子，用标记名称**h1**和**h2**分别定义了两种字号标题的字体颜色，又用标记名称**p**选中全部的段落、定义段落中的字体颜色为红色和文本居中对齐;

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
    <HTML>
    <HEAD>
    <TITLE>A simple HTML Document </TITLE>
    <STYLE>
    h1 {
        color :blue;
    }

    h2 {
        color :green;
    }

    p {
        color: red;
        text-align: center;
    }
    </STYLE>
    </HEAD>
    <BODY>
    <H1>This is a heading</H1>
    <H2>This is another heading</H2>
    <P>This is a paragraph.</P>
    <P>This is another paragraph.</P>
    </BODY>
    </HTML>  

  [点击复制按钮并在打开新窗口粘贴、运行以上代码](/public/tiyEditor.html)  

### 3.2.2 通用类选择器

&emsp;&emsp;通用类选择器借助于HTML标记的class属性值来选中元素。

&emsp;&emsp;只需要以（.）符号开头，继之以一个目标元素的class属性值，就可以选中一组HTML元素对象。下面的例子中，所有满足**class="center"**的元素都会被选中：

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
    <html>
    <head>
    <style>
    .center {
        text-align: center;
        color: red;
    }
    </style>
    </head>
    <body> 
    <h1 class="center">Red and center-aligned heading</h1>
    <p class="center">Red and center-aligned paragraph.</p>  
    </body>
    </html>

  [点击复制按钮并在打开新窗口粘贴、运行以上代码](/public/tiyEditor.html)  

&emsp;&emsp;我们还可以进一步在(.)符号前面加上标记名称（比如这里我们加了个**p**）。其含义是，进一步根据新增的标记名称查找页面元素。下面的例子只会选中**class="center"**的段落标记元素:

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
    <html>
    <head>
    <style>
    p.center {
        text-align: center;
        color: red;
    }
    </style>
    </head>
    <body>
    <h1 class="center">This heading will not be affected</h1>
    <p class="center">This paragraph will be red and center-aligned.</p>
    </body>
    </html>

  [点击复制按钮并在打开新窗口粘贴、运行以上代码](/public/tiyEditor.html)  

### 3.2.3 id选择器

&emsp;&emsp;id选择器通过HTML元素的id属性值选择需要的页面元素。

&emsp;&emsp;根据HTML规范，HTML元素的id属性在一个页面要求唯一，因此这个选择其只会选出**一个**页面元素。下面是一个在CSS中使用id选择期的例子：

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
    <html>
    <head>
    <style>
    #para1 {
        text-align: center;
        color: red;
    }
    </style>
    </head>
    <body>
    <p id="para1">Hello World!</p>
    <p>This paragraph is not affected by the style.</p>
    </body>
    </html>

  [点击复制按钮并在打开新窗口粘贴、运行以上代码](/public/tiyEditor.html)  

### 3.2.4 伪类选择器

&emsp;&emsp;CSS中的伪类选择器用来选中包含了状态信息的一组HTML元素。使用伪类选择期的正确语法是：

    selector:pseudo-class {
        property:value;
    }

&emsp;&emsp;比如说，在一个页面上，我们要根据超级链接\<a\>标签的不同状态改变它的外观。

&emsp;&emsp;下面的代码定义了一个超级链接：

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
    <html>
    <head>
    <style>
    /* 选中没有被访问过的超级链接 */
    a:link {
        color: red;
    }

    /* 选中被访问过的超级链接 */
    a:visited {
        color: green;
    }
    
    /* 选中由鼠标移动到其正上方超级链接 */
    a:hover {
        color: hotpink;
    }
    
    /* 选中被点击状态的超级链接 */
    a:active {
        color: blue;
    }
    </style>
    </head>
    <body>
    
    <p><b><a href="http://www.baidu.com" target="_blank">这是一个页面的超级链接</a></b></p>
    <p><b>Note:</b> a:hover MUST come after a:link and a:visited in the CSS definition in order to be effective.</p>
    <p><b>Note:</b> a:active MUST come after a:hover in the CSS definition in order to be effective.</p>
    
    </body>
    </html>

  [点击复制按钮并在打开新窗口粘贴、运行以上代码](/public/tiyEditor.html)  


## 3.3 使用CSS样式属性

&emsp;&emsp;根据CSS语法规则，先要使用选择器选定HTML元素，随后的问题就是把一个或者多个外观显示属性应用到
备选定的元素上。

&emsp;&emsp;为了让读者能够从视觉上直观地看到CSS选择器的作用效果，我们已经用到了两种类型的CSS属性**color: red**和**text-align: center**；前者表示设置字体颜色为红色，后者表示文本对齐方式是居中对齐。

&emsp;&emsp;W3school提供的[CSS参考手册](http://www.w3school.com.cn/cssref/index.asp)中列举了包含CSS1、CSS2和CSS3多个规范在内的二十多个**属性组**。按照W3School的说法，这是一个已经被市面上各主流浏览器充分支持的属性清单。大家在网站开发的时候可以拿来就用。

 ![html-xhtml-relation](/public/img/html/css-property-groups.png)

---

&emsp;&emsp;以字体颜色作为例子，我们来看一下如何使用CSS参考手册。

&emsp;&emsp;首先在**CSS文本属性**表格里面第一行找到名称为**color**的属性、点击超级链接：

 ![html-xhtml-relation](/public/img/html/css-text-color-prop.png)

&emsp;&emsp;页面跳转到**CSS color 属性**页面之后，我们可以看到下面的页面：

 ![html-xhtml-relation](/public/img/html/css-color-prop-detail.png)

&emsp;&emsp;在这里我们可以做两件事情：

&emsp;&emsp;1. 点击“亲自试一试”按钮，练习怎么用这个属性；

&emsp;&emsp;2. 在“浏览器支持”区域，查看主流浏览器对属性的支持。


&emsp;&emsp;早期HTML语言里面有不少可以改变文字显示效果的标签，比如说\<b\>标签让被标记的文本加粗，\<i\>标签让被标记的文本显示成斜体，当然还有一个很老的字体标签\<font\>。人们专门用这些标签来定义和显示效果有关的属性。

    <font size="3" color="red">This is some text!</font>
    <font size="2" color="blue">This is some text!</font>
    <font face="verdana" color="green">This is some text!</font>

  [点击复制按钮并在打开新窗口粘贴、运行以上代码](/public/tiyEditor.html)  


















