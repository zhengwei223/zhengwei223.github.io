---
layout: post
title: 第二章 基本的编程元素
category: Java8编程语言
tags: Java 入门
keywords: 蓝桥 lanqiao 教程 java Java8 初识Java
description: 
author: 付天有
importance: 4
order: 2
---

# 1 Java程序的构成（基础篇）

说到语法，我们可能会想到令人抓狂的"主谓宾定状补"。相信大多数人或多或少都应该学习过至少两种语言，自然语言是人与人沟通的工具，世界上最复杂的莫过于人，相比起来，与计算机打交道要比人简单的多的多。所以，关于Java语法，相信大家很容易就能领会。

## 1.1 Java程序框架

和计算机交流不同于人与人交流那般随意，套路还是比较多的。

我们先来回顾上一章所写的第一个Java程序：

    public class MyFirstJavaProgram {
    
    	/* This is my first java program.  
    	 * This will print 'Hello World' as the output
    	 */
    	public static void main(String []args) {
    		System.out.println("Hello World"); // prints Hello World
    	}
    } 

这段程序的意图是在控制台输出`Hello World`字样，实际上真正执行工作的命令仅是`System.out.println("Hello World");`这一句，其余代码都是套路。下面我们来整理一下一个Java程序的惯用套路。

java程序由多组“{}“构成，每个“{}“构成一个代码块(block)，并且支持嵌套。左大括号“{”为代码主体开始标记，至右大括号“}“结束。“{}”内部由多组命令语句(segment)构成,每个命令语句结束时必须以分号“;"做结尾。

上述代码中出现了两个个代码块，其中`public class MyFirstJavaProgram {}`称为**类声明**，每个Java程序都必须至少有一个类的声明。`public static void main(String[] args) {}`称为**方法声明**，方法必须声明在类的内部，且可以有多个方法的声明。

`public static void main(String[] args) {}`方法是一个比较特殊的方法，是程序执行的**入口**，且**声明方式固定**，每一个类**最多只能**拥有一个main方法。若想运行Java程序，则必须存在main方法。

## 1.2 认识标识符

先来看一下比较官方的定义：

标识符（IDentifier）是指用来标识某个实体的一个符号。在不同的应用环境下有不同的含义。

说简单点，标识符就是你随意起的名字，比如翠花、二狗、那个谁...等等。而Java的标识符被应用于Java中的包、类、方法、参数和变量的名字。虽然我们现在只见过`类`和`方法`,但我们只要知道，其他也是Java框架中的套路即可。HelloWorld代码中`MyFirstJavaProgram`j就是一个标识符。

Java中的标识符命名也不像我们自然语言中那般随意，只可由任意顺序的大小写字母、数字、下划线（_） 和美元符号（$）等组成，但标识符不能以数字开头,不能是Java中的保留关键字。

下面是合法的标识符。

***
yourname &ensp;&ensp;&ensp;&ensp; your_name &ensp;&ensp;&ensp;&ensp; _yourname &ensp;&ensp;&ensp;&ensp; $yourname
***

下面是非法的标识符。

***
class &ensp;&ensp;&ensp;&ensp; 67.9 &ensp;&ensp;&ensp;&ensp; Hello Careers
***

**标识符命名的常规协定**

- 见名知意。
- class命名通常以大写字母开头，method命名通常使用小写字母开头。
- 程序范围内使用同一种命名规范，如被广泛应用的驼峰式命名法 `例：userName`

**关键字**

关键字就是Java语言自己要用的名称，没什么好解释的，就是不让你当作标识符命名来用。记住就好了。

下表列出了Java中的关键字。这些关键字并不需要读者去强记，因为在程序开发中一旦使用了这些关键字做标识符，编辑器会自动提示错误。

![关键字列表](https://coding.net/u/lanqiao/p/lanqiao/git/raw/coding-pages/public/img/Java8/2016-08-05_mainKey.png)

## 1.3 认识注释

会不会突然拿起一件东西而忘了这东西是干嘛的？会不会突然忘了自己写过的东西是什么？多写一些注释吧！

没错，注释是我们写在程序代码中，供人来阅读的，在HelloWorld程序中，/* This is my first java program.*/这就是典型的注释，注释不会被计算机所识别。也不会影响任何执行逻辑和结果。仅供程序员们更好的阅读和理解代码。

Java里的注释 根据不同的用途分为以下3种类型。

- 单行注释
- 多行注释
- 文档注释

**单行注释**，就是在注释内容的前面加双斜线（//）, Java编译器会忽略这部分信息。如下所示:

    int num; //定义一个整數

**多行注释**，就是在注释内容的前面以单斜线加一个星形标记（`/*`）开头，并在注释内容末尾 以一个星形标记加单斜线（`*/`）结束。当注释内容超过一行时，一般可使用这种方法，如下所示:
	/*
	int c = 10;
	int x = 5;
	*/

**文档注释**，是以单斜线加两个星形标记（`/**`）开头，并以一个星形标记加单斜线（`*/`）结束。用这种方法注释的内容会被解释成程序的正式文档，并能包含进如javad0C2类的工具生成 的文档里，用以说明该程序的层次结构及其方法。

	/**
	 *	作者：Jack
	 *  创建时间：xxxx/xx/xx
	 */ 功能：演示注释
	public class Test{
	
	}

## 1.4 变量与常量

如果你入住酒店，酒店会给你一张房卡，有了房卡你可以找到指定的房间并进入。如果把整个计算机内存想象成酒店，而变量就可以理解为这张房卡，有了变量你就可以引用或存放数据到计算机内存。

下面我来学习如何在程序中使用变量

### 1.4.1 变量的声明

如果你要入住酒店，到前台开卡是必须的步骤，而且这个过程你需要告诉你要一个多大的房间（标准间、单人间、总统套房等等），同样的变量在声明过程中需要指定它要存放的数据类型（目前可以理解为不同的存储空间）。你还可以为这个房间取一个你喜欢的名字（这个名字是一个标准的标识符）。通过这个名字，你可以找到你所开的房间。

	int num;//声明一个int型的变量

解释：这行代码就可以理解为你向计算机申请了一个空间，这个空间存放的数据是int类型(暂且理解为一个标准间)。然后你就可以通过num这个标识符来操作这个空间。

你还可以一次声明多个相同类型的变量，每个变量的名称用`,`分开。

	int num,age,year;//声明三个int类型变量

### 1.4.2 变量的赋值

拿到这个空间以后，我就肯定是要操作这个空间，赋值就是一个变量的基本操作。

给所声明的变量赋予一个属于它的值，用等号运算符`=`来实现。具体可使用如下所示的2种方法进行设置。

1 . 在声明变量时赋值

举例来说，在程序中声明一个整数的变量num，并直接把这个变量陚值为2,可以在程序中写出如下的语句。

	int num = 2;//声明变量，并直接设置

2 . 声明后再设置

般来说也可以在声明后再给变量陚值。举例来说，在程序中声明整数的变量num丨、num2 及字符变Mch,并a给它们分别賦值，在程序中即可写出下面的语句。
	
	int num1,num2 ; 
	char c ;		//声明变量
	num1 = 2; 		//变量赋值
	num2 = 3;
	ch = 'z';

## 1.5 常量

变量空间中存数的数据是可变的，也就是说，我们可以在任意时刻去改变变量空间中所存储的内容。而还有一空间存储的内容一旦呗赋值就不允许改变——常量。

在Java语言中，利用final关键字来定义Java常量，其本质为值不可变的变量。
因为Java常量的本质是值不可变的变量，所以在声明的时候，就必须要进行初始化。和变量不同的是，Java常量在程序中将无法再进行赋值，如果强行赋值，程序会抛出错误信息，并拒绝接受这一个新的值。

**【程序案例】** 变量的赋值

	public class FinalValue{
		public static void main(String[] args){
			final int STU_AGE = 22;			//定义Java常量STU_AGE，其值为22
			System.out.println(STU_AGE);	//打印出STU_AGE的值
			STU_AGE = 27;					//企图改变Java常量的值
		}
	}

**[运行结果]**

![运行结果](https://coding.net/u/lanqiao/p/lanqiao/git/raw/coding-pages/public/img/Java8/2016-08-05_finalValue.png)

# 2 深入理解变量(进阶篇)

## 2.1 变量的作用域和生存期

Java允许在任何代码块中声明变量。正如在上文中所解释的，代码块以开花括号开始并以闭花括号结束。代码块定义了作用域。因此，每当开始一个新的代码块时就创建了一个新的作用域。作用域决定了对象对程序其他部分的可见性，并且也决定了这些对象的生存期。

许多其他计算机语言定义了两种通用的作用域类别：全局作用域和局部作用域。然而，这些传统的作用域不能很好地适应Java中严格的、面向对象的模型。虽然可以创建属于全局作用域的变量，但这只是例外，而不是规则。在Java中，两种主要的作用域分别是由类和方法定义的。尽管这种分类有些人为因素，但是，由于类作用域具有的一些独特属性和特性，不能应用于由方法定义的作用域，因此这种分类方法有一定的道理。由于存在这种差别，对类作用域(以及在其中声明的变量)的讨论将推迟到后续章节，那时会介绍类的相关内容。现在，只分析由方法定义以及在方法中定义的作用域。

由方法定义的作用域从方法的开花括号开始。然而，如果方法具有参数，那么它们也会被包含到方法的作用域中。尽管本书在第6章会进一步分析参数，但是出于作用域讨论的目的，在此将它们与任何其他方法变量一样一并考虑。

作为通用规则，在作用域中声明的变量，对于在作用域之外定义的代码是不可见的(即不可访问)。因此，当在某个作用域中声明变量时，就局部化了该变量，并保护它免受未授权的访问和/或修改。实际上，作用域规则为封装提供了基础。

作用域是可以嵌套的。例如，每当创建一个代码块时，就创建了一个新的、嵌套的作用域。当遇到这种情况时，外层的作用域包围了内层作用域。这意味着在外层作用域中声明的 对象对于内层作用域中的代码是可见的。然而，反过来就不是这样了，在内层作用域中声明 的对象，在内层作用域之外是不可见的。

根据作用域不同我们可以分为以下三种：

1 . 类变量：又叫静态成员变量，变量被static所修饰，且只能声明在class所包裹的`{}`内，静态变量可以直接被类引用，而不需要实例化类的对象。比如：时间是属于我们全人类，并不属于某一个人。通常静态变量的标识符都用大写字母来命名。
	class StaticVar{
		static int TIME=20160101;//静态变量，在外部可直接通过StaticVar.TIME;来引用变量
	}

2 . 成员变量：又叫实例变量。作用域在整个类内部都有效，这里需要注意的是，普通的成员变量不能被声明为static的方法所直接引用。即static变量只能被static的方法直接引用，main方法是一个static的方法所以，不能够直接引用普通的成员变量。

3 . 局部变量：出现在某个代码段中的变量。

**[程序案例]** 变量作用域

	class Scope {
		int member = 10；//成员变量，在类内部都可以被引用
		static double PI = 3.14;//静态变量，可以通过类直接获取的变量

		public static void main(String args[]) {
			int x; // main方法内部的局部变量
			x = 10;
			if (x == 10) { // 开始一个新的作用域
				int y = 20; // 尽在当前代码块内有效的变量y
				// x与y都可以访问
				System.out.println("x and y: " + x + " " + y);
				x = y * 2;
			}
			// y = 100; //错误! 已超出y的作用域
			// member = 11//错误! main方法是static不能引用普通成员变量
			// System.out.println(PI);//static的成员变量能够被static的main方法直接引用
			// x 仍可以被访问
			System.out.println("x = " +x);
			
		}
	}

**[运行结果]**

	x and y: 10 20
	x = 40.
正如注释指出的，变量x是在main()作用域的开始处声明的，因此main方法中的所有后续代码都可以访问变量X。变量y是在if代码块中声明的，既然代码块定义了作用域，所 以只有对于if代码块中的代码y才是可见的。这就是为什么在if代码块之外，将“y=100;”注释掉的原因。如果删除前面的注释符号，就会发生编译时错误，因为在if代码块之外y不 是可见的。在if代码块的内部可以使用x,因为代码块(即嵌套的作用域)中的代码可以访问在外部作用域中声明的变量。

在代码块中，可以在任意位置声明变量，但是只有在声明之后变量才是有效的。因此，如果在方法的开头定义变量，那么变量对于该方法的所有代码都是可见的。相反，如果在代 码块的末尾声明变量，那么变量是无用的，因为没有代码能够访问该变量。例如，下面的代码片段是无效的，因为count在声明之前不能使用：

	//错误的使用!
	count = 100; //注意!不能在声明前使用变量
	int count;

最后一点：尽管可以嵌套代码块，但是在内层代码块中不能声明与外层代码块具有相同名称的变量。例如，下面的程序是非法的：

**[程序清单 5.1.5]**
	
	class ScopeErr {
	
		public static void main(String args[]) {
			int bar = 1;
			{
				// 创建一个新作用域
				int bar = 2;// 编译错误： error "C bar already defined!
			}
		}
	}



