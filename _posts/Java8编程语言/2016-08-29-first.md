---
layout: post
title: 初识java
category: Java8编程语言
tags: Java 入门
keywords: 蓝桥 lanqiao 教程 java Java8 发展历史
description: 
author: 付天有
importance: 4
order: 1
---

# 第一章 初识庐山真面目——Java8（基础篇）

日常生活中，我们人与人之间需要语言，汉语是我们的母语，我们可以跟另外一个懂得汉语的人用语言来交流，比如：小A可以和小B说："今天吃了么？"。如果小B同样懂得汉语，就会给出响应的回应。这就是一种语言的交流。

而Java语言，便是一种可以与计算机交流的语言。怎么样？听起来是不是很酷！而且如果你掌握了与计算机沟通的语言，你可以命令计算机做你想做的事！不需要理由！

然而。我们如何利用Java语言来命令计算机呢。总结起来可以分为3部：


1. 你需要一台电脑。
2. 电脑上安装一个能把Java语言翻译成机器语言的翻译。
3. 编写Java语言源文件，交给翻译。
4. 坐等结果。

然后我们介绍一下第2、3步的详细操作：


## 1.1 下载

上面我们提到能把Java语言翻译成机器语言的翻译，这个翻译在Java世界里叫做JDK(Java Development Kit)。大家可以在ORACLE官方网站上下载，下载路径：[http://www.oracle.com/technetwork/java/javase/downloads/index.html](http://www.oracle.com/technetwork/java/javase/downloads/index.html)

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.5.jpg)

这里要提醒各位，不同平台和系统的安装文件是不一样的，根据自己电脑的情况选着合适的版本进行安装,32位选x86，64位选择x64。

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.6.jpg)

## 1.2 安装

下载后JDK的安装根据提示进行，还有安装JDK的时候也会安装JRE，一并安装就可以了。
安装JDK，安装过程中可以自定义安装目录等信息，例如我们选择安装目录为 C:\Program Files (x86)\Java\jdk1.8.0_91。

## 1.3 配置环境变量
当我们安装好JDK后，就需要利用JDK提供的命令来翻译或执行我们所写的Java程序代码。要应用这些JDK提供的命令，就要配置环境变量了。一般来说，我们会配置这三个环境变量：

- JAVA_HOME ：配置 JDK 安装路径

- PATH ：配置 JDK 命令文件的位置

- CLASSPATH ：配置类库文件的位置

### 详细步骤：

右击"我的电脑"，点击"属性"，选择"高级系统设置"；

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.7.png)

选择"高级"选项卡，点击"环境变量"；

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.8.png)

然后就会出现如下图所示的画面：

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.9.png)

在"系统变量"中设置3项属性，JAVA_HOME,PATH,CLASSPATH(大小写无所谓),若已存在则点击"编辑"，不存在则点击"新建"。

变量设置参数如下：

变量名：JAVA_HOME

变量值：C:\Program Files (x86)\Java\jdk1.8.0_91        // 要根据自己的实际


变量名：CLASSPATH

变量值：.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;         //记得前面有个"."

变量名：Path  **一般已经存在，点击编辑**

变量值：%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;

JAVA_HOME 设置

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.10.png)

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.11.png)

PATH设置

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.12.png)

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.13.png)

CLASSPATH 设置

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.14.png)


`注意：如果使用1.5以上版本的JDK，不用设置CLASSPATH环境变量，也可以正常编译和运行Java程序。`

## 1.4 测试JDK是否安装成功

1、"开始"->"运行"，键入"cmd"；

2、键入命令: java -version、java、javac 几个命令，出现正常提示信息，说明环境变量配置成功；

![](https://coding.net/u/lanqiao/p/lanqiao/git/raw/coding-pages/public/img/Java8/2016-08-05_javac.png)

## 1.5 第一个Java应用程序

通过上面的教程，我们已经完成了JDK(可以把Java语言翻译成机器能懂的语言的翻译官)的安装。

那么下面我就就可以利用Java语言写一段程序代码，来命令计算机执行一些任务。

总共分为三个步骤：

- 编写Java的源代码文件，以.java结尾，**源代码文件是不能被机器执行的**。

- 使用编译器（也就是JDK提供的javac命令），对源代码文件进行编译。把它编译成字节码文件，字节码文件是以.class结尾。它与平台无关，也就是说无论你是windows还是linux，字节码文件都是这样的一个文件，这跟系统没有关系。

- 运行应用程序（使用java命令），在控制台我们可以看到程序运行出的结果。


看看我们命令计算机在控制台输出 Hello World 的简单代码。

    public class MyFirstJavaProgram {
    
    	/* This is my first java program.  
    	 * This will print 'Hello World' as the output
    	 */
    	public static void main(String []args) {
    		System.out.println("Hello World"); // prints Hello World
    	}
    } 

下面是如何保存文件，编译并运行该程序。请按照以下步骤进行：


- 打开记事本，并添加如上面的代码。

- 将文件另存为：MyFirstJavaProgram.java。

- 打开命令提示符窗口，然后去进入保存类的目录。假设它是C：。

- 输入'javac MyFirstJavaProgram.java“，然后按回车来编译代码。如果代码中没有错误，在命令提示符下将到下一行（假设：路径变量设置）。

- 现在，输入“java MyFirstJavaProgram'来运行程序。

- 将可以看到 ' Hello World ' 印在窗口上。

	    C : > javac MyFirstJavaProgram.java
	    C : > java MyFirstJavaProgram 
	    Hello World
### 常见错误

1. 在windows上新建文本文件默认会得到一个.txt文件，需要将其改为.java后缀；如果文件名显示设置中隐藏了文件后缀，新建一个文本文件看不到后缀，但事实上有.txt后缀，如果此时仅把文件命名为.java实际得到的文件是.java.txt。这将导致下一个步骤的编译错误。
2. `public class MyFirstJavaProgram `中MyFirstJavaProgram必须与文件名相一致,并且区分大小写。

## 1.6 深入理解Java(进阶篇)

### 1.6.1 Java的运行机制

首先我们先来看一幅图：

![Java运行机制](https://coding.net/u/lanqiao/p/lanqiao/git/raw/coding-pages/public/img/Java8/java-execute.jpg)

我们可以通过helloworld来理解这几个缩写词的具体含义：


	public class HelloWorld {
	  public static void main(String[] args) {
	    System.out.println("helloworld");
	  }
	}

通过JDK的`javac`命令编译之后， 我们得到了HelloWorld.class（图中的"Your program's class files"）

然后我们让虚拟机器来执行这个HelloWorld。

1. 虚拟机会在classpath中找到HelloWorld.class。
2. 虚拟机中的解释器(interpret)会把HelloWorld.class解释成字节码。
3. 把解释后的字节码交由execution engin执行。
4. execution engin会调用native method(即平台相关的字节码）来在host system的stdout(显示器)的指定部分打印出指定的字符串。
5. 这样， 我们就看到"helloworld"字样了。

有了这个流程后， 我们就好理解上面几个术语了：

- JDK: java develop kit (JAVA API包)
- SDK: software develop kit, 以前JDK 叫做java software develop kit， 后来出了1.2版本后， 就改名叫jdk了， 省时省力， 节约成本。
- JRE. java runtime environment 我们的helloworld必须在JRE(JAVA运行环境,JAVA运行环境又叫JAVA平台）里面， 才能跑起来。 所以， 显然地， JRE其实就是JDK + JVM
- JVM java virtual machine. 简单地讲， 就是把class文件变成字节码， 然后送到excution engin中执行。而为什么叫虚拟机， 而不叫真实机呢？ 因为JVM本身是又不能运算， 又不能让显示器显示"helloworld"的， 它只能再调用host system的API， 比如在w32里面就会调c++的API， 来让CPU帮他做做算术运算，来调用c++里面的API来控制显示器显示显示字符串。 而这些API不是JDK里面有的，我们平时又看不见的，所以我们就叫它native api了。

总结来说，计算机运行的本质上是经过JVM处理过的字节码文件。

### 1.6.2 Java的特点

- 简单性

- 安全性

- 可移植性

- 面向对象

- 健壮性

- 多线程

- 体系结构中立

- 解释执行

- 高性能

- 分布式

- 动态性

在这些关键特性中，安全性和可移植性已经在前面介绍过了，下面分析其他各个特性的含义。

#### 简单性

Java的设计目标之一是让专业程序员能够高效地学习和使用。如果具有一定的编程经验，就会发现掌握Java并不难。如果您已经理解了面向对象编程的基本概念，学习Java会更加容易。最好的情况是，您是一位有经验的C++程序员，只需要非常少的努力就可以迁移到Java。因为Java继承了C/C++的语法以及许多面向对象特性，大部分程序员学习Java都不困难。

#### 面向对象

尽管受到前辈的影响，但是Java没有被设计成兼容其他语言的源代码，这使得Java团队可以自由地从头开始设计。这样设计的结果是：对象采用清晰、可用、实用的方法。通过大量借鉴过去几十年中的诸多对象软件环境，Java设法在纯进化论者的“任何事物都是对象”模式和实用主义者的“够用就好”模式之间找到了平衡。Java中的对象模型既简单又易于扩展，而基本类型(例如整型)仍然是高性能的非对象类型。

#### 健壮性

Web的多平台环境对程序有特别的要求，因为程序必须在各种系统中可靠地执行。因此，在设计Java时，使其具备创建健壮程序的能力被提到了高优先级的地位。为了获得可靠性，Java在一些关键领域进行了限制，从而迫使程序员在程序开发中及早地发现错误。同时，使程序员不必再担心会引起编程错误的许多最常见的问题。因为Java是强类型化的语言，它在编译时检查代码。当然不管怎样，在运行时也检查代码。许多难以跟踪的bug，在运行时通常难以再现，这种情况在Java中几乎不可能产生。因为使编写好的程序在不同的运行条件下，以可预见的方式运行是Java的关键特性之一。

为了更好地理解Java是多么健壮，分析程序失败的两个主要原因：内存管理错误和未处理的异常(即运行时错误)。在传统的编程环境中，内存管理是一件困难、乏味的工作。例如，在C/C++中工程序员必须手动分配和释放所有动态内存。有时这会导致问题，因为程序员可能会忘记释放以前分配的内存，或者更糟糕的是，试图释放程序其他部分仍然在使用的内存。Java通过为您管理内存的分配和释放，可以从根本上消除这些问题(事实上，释放内存完全是自动的，因为Java为不再使用的对象提供了垃圾回收功能)。传统环境中的异常情况通常是由“除0”或“没有找到文件”这类错误引起的，并且必须使用既笨拙又难以理解的结构对它们进行管理。Java通过提供面向对象的异常处理功能在这个领域提供帮助。在编写良好的Jave程序中，所有运行时错误都能够并且应当由程序进行管理。

#### 多线程

Java的设计目标之一是满足对创建交互式、网络化程序的现实需求。为了满足这一目标，Java支持多线程编程，允许编写同时执行许多工作的程序。Java运行时系统为多线程同步提供了优美且完善的解决方案，能够创造出运行平稳的交互式系统。Java提供了易用的多线程方法，使得只需要考虑程序的特定行为，而不需要考虑多任务子系统。

#### 体系结构中立

![解释过程](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.3.gif)

对于Java设计人员来说，核心问题是程序代码的持久性和可移植性。在创建Java时，程序员面临的一个主要问题是，即使是在同一台机器上也不能保证今天编写的程序到了明天仍然能够运行。操作系统升级、处理器升级以及核心系统资源的变化，都可能导致程序出现故障。Java设计人员对Java语言做出了一些艰难的决策，Java虚拟机就是试图用于解决这个问题的。它们的目标是“编写一次，无论何时、何地都能永远运行”。在很大程度上，这个目标已经实现了。

#### 解释执行和高性能

![解释过程](https://coding.net/u/lanqiao/p/lanqiao/git/raw/master/public/img/Java8/1.2.gif)

正如在前面描述的，Java通过将源代码编译成被称为Java字节码的中间表示形式，可以创建跨平台的程序。这种代码可以在所有实现了Java虚拟机的系统中运行。以前大部分封晇平台解决方案的尝试对性能的影响太大。在前面解释过，Java字节码经过了仔细设计，通过使用即时编译器，可以很容易地将字节码直接转换为高性能的本机代码。Java运行时系统键供了这个特性，并且没有丢失平台独立代码的优点。

#### 分布式

Java是针对mtemet的分布式环境而设计的，因为它能处理TCP/IP协议。实际上，使用URL访问资源与访问文件没有多大区别。Java还支持远程方法调用(Remote Method Invocation，RMI)。这个特性允许程序通过网络调用方法。

#### 动态性

Java程序本身带有大量的运行时类型信息，这些信息可以用于在运行时验证和解决对象访问问题。这使得以一种安全、方便的方式动态地链接代码成为可能。对于些可以在运行的系统中动态更新小段字节码的Java环境的健壮性来说，这一特性也是很关键的。


## 1.7 Java的发展历史(扩展阅读)

思想家龚自珍有一句名言：“欲知大道，必先为史。”意思是说，要掌握“大道”，必须先研究蕴含着“大道”的历史，那么如果你想真正的做到精通Java,那么你势必要了解他的发展历史，从而能够揣测出未来的发展走向。

### 1.7.1 Java的诞生

Java来自Sun公司的一个叫Green的项目，其原先的目的是为家用电子消费产品开发一个分布式的代码系统，这样就可以把E-Mail发送给冰箱、电视机等家用电器，对它们进行控制，和它们进行信息交流。开始他们准备采用C++，但是C++太复杂，安全性差，最后基于C++开发了一种新语言Oak（Java的前身）。Oak是一种用于网络的精巧而安全的语言，Sun公司曾以此投标一个交互电视项目，但被SGI打败，于是Oak几乎无家可归，恰巧这时Mark Ardreesen开发Mosaic和Netscape启发了Oak项目组成员，他们利用Java编制了HotJava浏览器，得到了Sun公司首席执行官Scott McNealy的支持，触发了Java进军Internet。

有些让人惊奇的是，Java的最初推动力不是Internet!相反，主要动机是对平台独立(即体系结构中立)语言的需要，这种语言可用于开发能够嵌入到各种消费类电子设备(例如微波炉、遥控器)的软件。您可能已经猜到了，许多不同类型的CPU被用作控制器。使用C和C++语言(以及大部分其他语言)的麻烦是，它们被设计为针对特定的目标进行编译。尽管能够为各种类型的CPU编译C++工程序，但是这需要一个完整的以该CPU为目标的C++编译器。问题是创建编译器很耗费时间，所以需要一种更容易并且更经济的解决方案。在寻找这样一种方案的尝试过程中，Gosling和其他人一起开始开发一种可移植的、平台独立的语言，可以使用这种语言生成在不同环境下运行于各种CPU之上的代码。他们的努力最终导致了Java的出现。

在Java的细节被开发出来的同时，第二个并且最终也更加重要的因素出现了，它在Jaw的未来中扮演了关键的角色。第二个动力当然是万维网。假如Web的形成和Java的出现不在同一时间，么Java虽然仍会有用，但可能只是一种用于为消费类电子产品编写代码的没有名气的语言。然而，随着万维网的出现，Java被推到计算机语言设计的最前沿，因为Web也需要可移植的程序。

大部分程序员在职业生涯的早期就知道，可移植程序既让人向往又让人逃避。尽管人们对创建高效、可移植(平台独立的工程序的探索，几乎和编程自身的历史一样久远，但它总是让位于其他更为紧迫的问题。此外，因为在时计算机界已经被Intel、Macintosh和UNIX这三个竞争阵营垄断，大多数程序员都在其中的某个领域内工作，所以对可移植性编码的迫切需求降低了。但是，随着Internet和Web的出现，古老的可移植性问题又出现了。毕竟，Internet是由各种各样的、分布式的系统构成的，这韩系统使用各种类型的计算机、操作系统和CPU。尽管许多类型的平台都依附于Internet，但是用户仍然希望他们能够运行相同的程序。曾经是一个令人烦恼、但是优先级较低的问题，已经变成了必须解决的问题。

在为嵌入式控制器编写代码时经常遇到的可移植性问题，在尝试为Internet编写代码的过程中也出现了。到了1993年，这个问题对于Java设计小组的成员而占已经变得很明显了。实际上，最初针对解决小范围问题而设计的Java，也可以应用于更大范围的Internet。这一认识导致Java的关注点由消费类电子产品转移到了Internet编程。因此，虽然对体系结构中立的编程语言的需求提供了最初的思想火花，但最终是Internet成就了Java的成功。

正如在前面提到的，Java从C和C++继承了许多特性，这是有意而为之。Java设计人员清楚，使用与C语言类似的语法以及模仿C++的面向对象特性，可以使Java语言对于众多经验丰富的C/C++程序员更具吸引力。除了表面类似外，Java还借鉴了帮助C和C++成功的其他一些特性。首先，Java的设计、测试和不断改进是由真正从事编程工作的人员完成的。它是扎根于设计人员的需要和经验的一种语言。因此Java是程序员的语言。其次，Java结构紧凑并且逻辑上协调一致。最后，除了Internet环境强加的些约束外，Java为程序员提供了完全的控制权。如果程序编写的好工程序本身就能反映出来。如果程序编写的不好工程序本身也能反映出来。换甸话说，Java不是一种用于培训的语言，而是针对专业程序员的语言。

因为Java与C++之间的相似性，可能会简单地将Java看作“Internet版的C++”。但是，如果这么认为，将会是很大的错误。Java无论是在实践上还是在理论上都与C++有着很大的区别。虽然Java深受C++的影响，但它不是C++的增强版。例如，Java与C++既不向上兼容，也不向下兼容。当然，与C++之间的相似性还是很明显的。并且，如果您是一位C++程序员的话，会感觉Java很熟悉。另外一点：设计Java的目的不是取代C++。Java是针对解决特定的一系列问题而设计的。Java和C++将会长期共存。

计算机语言的发展取决于两个因素：适应环境的变化以及实现编程艺术的提高。促使Java发展的环境变化是对平台独立程序的需求，lnternet上的分布式系统天生就需要平台独立的程序。同时，Java也体现了编程方式的变化。例如，Java增强并改进了C++使用的面向对象编程，增加了对多线程的支持，提供了简化Internet访问的库。总之，并不是Java的某个单一特征，而是整体上作为一种语言，使它如此非凡。Java是对新出现的高度分布计算领域需求的完美响应。Java对于Internet编程的意义，就如同C语言对系统编程一样：它们都是改变世界的革命性力量。


**与C#的关系**

在计算机语言开发领域，人们会继续感受到Java的影响和力量。许多创新性的特征、结构以及概念，已经成为所有新语言的基准组成部分。Java是如此成功以至于不可忽视。

Java影响力的最重要例子可能是C#。C岸是由Microsoft创建的用于支持.NETFramework的语言，C岸与Java密切相关。例如，两者共享相同的语法，都支持分布式编程，并且都利用相同的对象模型。当然，Java和C#之间也有一些区别，但是总的看来这两种语言很相似。从Java到C#的这种“异花授粉”，正是对Java影响力最强有力的证明。

### 1.7.2 Java改变Internet的方式

Internet将Java推到了编程的最前沿，反过来，Java也对Internet产生了深远的影响。一般来说，除了简化Web编程以外，Java还创识了一种新的网络程序类型，称为applet，这种程序类型改变了在线世界考虑内容的方式。Java还解决了一些与Internet相关的棘手问题：可移植性和安全性。下面进一步分析这些内容。

### 1.7.3 Java applet 

Java applet是一种特殊类型的J工程序，是为了能够在Internet上传送而设计的，可以在兼容Java的Web浏览器中自动运行。此外，applet可以根据需要自动下载，不需要用户的进一步交互。如果用户点击包含applet的链接，就会自动下载applet，并在浏览器中运行。applet一般是小的程序，它们通常用于显示服务器提供的数据、处理用户输入或者提供在本地执行而不是在服务器上执行的简单功能，例如贷款计算器。本质上，applet使得可以将某些功能从服务器移到客户端。

applet的创建改变了lnternet编程，因为它扩展了可以在网络空间(cyberspace)中自由流动的对象的范畴。一般而言，在服务器和客户端之间传输的对象有两大类：被动的信息和动态、主动的程序。例如，当阅读电子邮件时，是在查看被动的数据。荏至当下载一个程序时，在执行该程序之前，它的代码也只是被动的数据。与之相对应，applet是动态的、自我执行的程序。虽然这类程序是客户端计算机上的活动代码，然而它们却是由服务器初始化的。

尽管动态的联网程序符合人们的愿望，但是它们在安全性和可移植性方面带来了严重问题。显然，必须防止在客户端计算机上自动下载和执行的程序执行破坏性的工作，并且它们还必须能够运行于各种不同的环境以及不同的操作系统中。正如在后面即将看到的，Java以一种高效且优美的方式解决了这些问题。下面让我们进一步分析Java解决这些问题的原理。

### 1.7.4 servlet：服务器端的Java

尽管applet很有用，但它只是客户端/服务器这个整体的一半。Java对于服务器端也是很有用的，在Java最初发布不久这个问题就变得很明碰了，于是出现了servlet。servlet是在服务器上执行的小程序。就applet动态扩展厂Web浏览器的功能一样，servlet动态扩展了Web服务器的功能。因此，随着servlet的出现，Java横跨了客户端/服务器连接的两端。

servlet用于动态地创建发送到客户端的内容。例如，在线商店可以使用servlet在数据库中查找某件商品的价格，然后使用价格信息动态生成发送到浏览器的Web页面。尽管通过CGI(Common Gateway Interface，公共网关接口)这类机制也可以获取动态生成的内容，但是servlet提供了一些优点，包括性能的提高。



## 1.8 Java的演变历程

![演变历程](https://coding.net/u/lanqiao/p/lanqiao/git/raw/coding-pages/public/img/Java8/%25E5%258F%2591%25E5%25B1%2595%25E5%258E%2586%25E7%25A8%258B.png)

Java的最初发布不亚于一场革命，但是它并不标志着Java快速革新时代的结束。与其他大多数软件系统经常进行小的、增量式的改进不同，Java持续以爆炸性的步伐向前发展。在Java1.0发布不久，Java的设计人员就已经创建了Java1.1。Java1.1新增的特性比您可能认为的在次要版本中修订增加的内容更重要并且更丰富。Java1.1添加了许多新的库元素，改进了事件处理方式，并且重新配置了Java1.0版本中库的许多特性。它还建议不再使用(放弃) 最初由Java1.0定义的一些特性。因此，Java1.1既添加了新特性，也去掉了最初版本中的些特性。

Java的下一个主要发布版本是Java2，此处的“2”表示“第二代”。Java2的创建是个分水岭，它标志着Java“新时代”的开始。首次发布Java2时使用的版本号是1.2，这看起来可能有些奇怪。因为1.2最初指的是Java库的内部版本号，但是之后被推广至表示整个发布版本。通过Java2，Sun公司将Java产品重新包装成J2SE(Java2PlatformStandardEdition，Java2平台标准版)，并且版本号也开始用于这个产品。

Java2添加了大量新特性，例如Swing和集合框架，并且改进了Java虚拟机和各种编程工具。Java2也建议不再使用某些特性。最重要的影响是Thread类，建议不再使用该类的suspend()、Resume（）和stop（）等方法。

J2SE1.3是对Java2原始版本的第一次重要升级。这次升级主要是更新Java的现有功能以及“限制”开发环境。一般来说，为版本1.2和1.3编写的程序的源代码是兼容的。尽管版本1.3包含的变化比以前三次重要升级更小，但这次升级仍然是十分重要的。

J2SEI.4的发布进一步增强了Java。这个发布版本包含了一些重要的升级、改进和新增功能。例如，添加了新的关键字assert、链式异常(chained exception)以及基于通道的V0子系统。该版本还对集合框架和联网类(networking class)进行了修改。此外，从头到尾还有大量小的改动。尽管引入了很多新特性，但版本1.4与以前的版本保持了儿乎百分之行的源代码级兼容。

Java1.4之后的下一个发布版本是J2SE5，该版本也是革命性的。它与先前的大多数Java升级不同，因为那些升级提供了重要、但是有规律的改进，而J2SE5从根本上扩展了Java语言的应用领域、功能和范围。为了领会J2SE5对Java修改的重要性，考虑F而列出的J2SE5的主要新特性：

- 泛型

- 注解 (annotation) 

- 自动装箱和自动拆箱

- 枚举

- 增强的for-each风格的for循环

- 可变长度参数(varargs)

- 静态导入

- 格式化的I/O

- 并发实用工具

上述新特性不是细枝末节的改动或增量式的升级，列表中的每一项都表示对Java语言的重大弥补。某些新特性，比如泛型、增强的for-each风格的for循环以及可变长度参数，引入了新的语法元素。其他新特性，比如自动装箱和自动拆箱，改变了Java语言的语义。注解为编程增加了一个全新的维度。所有这些新增特性的影响都超出了它们的直接效果。它们极大地改变了Java本身的每一特性。

这些新增特性的重要性反映在版本号“5”的使用上。正常情况下，Java的下一个版本号应为1.5。然而，这些新增特性实在是太重要了，以至于从1.4转向1.5不足以看出变化的重要性。因此，Sun公司选择将版本号增至5，以强调一个重要事件正在发生。因此，该版本被命名为J2SE 5，同时开发人员的工具包也称为JDK 5。不过，为了保持一致性，Sun公司决定使用1.5作为内部版本号，它也称为开发版本号。J2SE 5中的“5”被称为产品版本号。

Java的下一个发布版本称为Java SE 6。Sun公司再次决定改变Java平台的名称。首先，注意“2”已经被取消了。因此，平台现在被命名为Java SE，官方产品名称是“Java Platform，Standard Edition 6”。Java开发工具包叫做JDK 6。与J2SE5中的“5”一样，Java SE 6中的“6”是产品版本号，而内部的开发版本号是1.6。

Java SE 6建立在J2SE 5的基础之上，进行了一些增量式的改进。Java SE 6没有为Java语言添加真正重要的新特性，但它确实增强了API库，添加了几个新的包，并且对运行时进行了改进。随着几次升级，在漫长的生命周期中Java SE 6还进行了几次更新。总之，Java SE 6进一步巩固了J2SE5的发展成果。

Java的下一个发布版本是Java SE 7，Java开发工具包也随之被称为JDK 7，并且内部版本时为1.7。Java SE 7是自从Sun Microsystems被Oracle公司收购之后第一个重要的发布版本。Java SE 7包含许多新特性，包括为Java语言增加的重要特性和API库，并且对Java迳行时系统进行了升级，升级的内容包括对非Java语言的支持。不过对Java开发人员来说，他们最感兴趣的还是为语言和API增加的特性。

新增的语言特性是作为Project Coin的一部分开发的。project Coin的目的是识别大量将被合并到JDK 7中的对Java语言的小的修改。尽管这“舆新特性被集中描述为“小的”修改，但就它们对代码的影响而言，这肆匕修改产生的影响却相川大。实际上，对于许多开发人员，这些修改可能是Java SE 7中最重要的新特性。F而是新增语占特性的列表：

- String现在能够控制switch语句。

- 二进制整型字面值。

- 数值字面值中的下划线。

- 扩展的try语句，称为带资源的try(try-with-resources)语句，这种try语支持自动资源管理(例如，当流(stream)不再需要时，现在能够自动关闭它们)。



- 构造泛型实例时的类型推断(借助菱形运算符“<>”)。

- 对异常处理进行了增强，单个catch子句能够捕获两个或更多个异常(multi-catch)，井且对重新抛出的异常提供了更好的类型检查。

- 对与某些方法(参数的长度可变)类型关联的编译器警告进行了改进，尽管语法没有发生变化，并且对警告具有更大的控制权。

正如您可能看到的，尽管Projection Coin特性被认为是对语言小的修改，但是它们带来的好处却是很大的。特别地，带资源的try语甸对编写基于流的代码的方式产生了深远影响。此外，使用String控制switch语句的能力是大家盼望已久的改进，在许多情况下这一改进将会简化代码。

Java SE 7为Java API库新增了一些内容。其中最重要的两个方面是对NIO框架进行了增强并且增加了Fork/Join框架。NIO(最初表示新I/O(NewI/O))是在1.4版本中被添加到Java中的。然而，Java SE 7对NIO的增强从根本上扩展了它的功能。这一修改非常重要，以至于经常使用术语NIO.2。

Fork/Join框架对并行编程(parallel programming)提供了重要支持。并行编程通常是指有效使用具有多个处理器(包括多核系统)的计算机的技术。多核环境提供的优点是可以在相当大的程度上提高程序的性能。Fork/Join框架通过以下两个方面对多核编程提供支持：

- 简化同时执行的任务的创建和使用。

- 自动使用多个处理器。

所以，使用Fork/Join框架可以很容易地创建可伸缩的应用程序，它们能够自动利用执行环境中的可用处理器。当然，并不是所有的算法都可以并行执行，但是如果算法确实可以并行执行的话，执行速度就可以得到相当大的提升。

Java的最新发布版本是Java SE 8，对应的Java开发工具包称为JDK 8，内部版本号为1.8。JDK 8是Java语言的重要升级，包含了一个影响深远的新语言特性：lambda表达式。lambda表达式产生的影响将十分深刻，改变了设计编程解决方案和编写Java代码的方式。第15章将详细介绍，lambda表达式为Java添加了函数式编程特性。在这个过程中，lambda表达式可以简化并减少创建特定结构(如某些类型的匿名类)所需的源代码量。引入lambda表达式的结果是在Java语言中引入了一个新的运算符(->)和一个新的语法元素。lambda表达式帮助确保Java仍然是用户期望的那门富有生命力的灵活的语言。

lambda表达式的引入对Java库也产了广泛的影响，Java库中有一此新功能就是为了使用lambda表达式而添加的。其中最重要的是新的流API，包含在java.util.stream包中。流API支持对数据执行管道操作，并针对lambda表达式做了优化。另外一个重要的新包是java.util.function，它定义了许多函数式接口，为lambda表达式提供了额外的支持。在整个API库中，还可以找到许多与lambda表达式相关的新功能。

lambda引出的另一个功能对接口产生了影响。从JDK 8开始，可以为接口指定的方法定义默认实现。如果没有为默认方法创建实现，就使用接口定义的默认实现。这种特性允许接口随着时间优雅地演化，因为在向接口添加新方法时，不会破坏现有代码。在默认实现更加合适时，这也有助于简化接口的实现。JDK 8中的其他新特性包括新的时间和日期API、类型注解，以及在对数组进行排序时使用并行处理等。JDK 8也捆绑了对JavaFx 8的支持，JavaFx 8是Java的新GUI应用框架的最新版本。预计JavaFx很快会在几乎全部Java应用程序中扮演重要的角色，并最终取代Swing，成为大多数基于GUI的项目的首选。

最后，Java SE 8是一个重要发布版本，大大扩展了Java语言的功能，并改变了编写Java 代码的方式。其影响将在随后多年的Java世界中持续存在。它确实是十分重要的一次升级。

## 1.9 文化革新

从一开始，Java就位于文化革新的中心位置。它的首次发布就重新定义了Internet编程。Java虚拟机(JVM)和字节码改变了我们对安全性和可移植性的思考方式。applet(以及servlet)使Web充满活力。Java标准制定组织(Java Community Process,JCP)重新定义了编程语言吸收新思想的方式。Java世界从来都不是长时间静止不前的，Java SE 8是Java不断前进的动态历史中最新发布的版本。