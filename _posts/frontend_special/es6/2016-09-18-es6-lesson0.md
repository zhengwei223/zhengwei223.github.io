---
layout: post
title: 用node运行和测试ES6语法
category: es6
tags: es6 es2015
author: 郑未
keywords: lanqiao 蓝桥 培训 教程 前端 es6 es2015
description: 浏览器调试js较麻烦，而且对es6的支持也不到位，因此本文先介绍如何用node测试es6代码。有了这部分的准备，你才能顺利学习后续教程。
---

浏览器调试js较麻烦，而且对es6的支持也不到位，因此本文先介绍如何用node测试es6代码。有了这部分的准备，你才能顺利学习后续教程。

# 1.安装node和npm

[官网](http://nodejs.cn/)下载并安装。

命令行执行`node -v`和`npm -v`能出版本号，说明安装成功。

# 2.package.json

`package.json`用于设置当前项目的基础信息和包的依赖，在工作目录下执行`npm init`，一路填写最终会得到一个基础的`package.json`文件（在你运行命令的目录下）。

# 3.安装babel-cli和babel-preset-es2015

在工作目录下执行命令安装babel-cli：

```
npm  --save-dev install babel-cli
```

全局也安装一份，以便执行命令：

```
npm  -g install babel-cli
```

接着在工作目录创建一个名字为`.babelrc`的文件， 文件内容入如下:

```
{
    "presets": [
      "es2015"
    ],
    "plugins": []
}
```

还是工作目录， 然后再安装babel-preset-es2015：

```
npm install --save-dev babel-preset-es2015
```

到目前为止babel算是安装完毕了。

# 4.测试es6代码

创建一个test.js的文件， 键入内容：

```
let [a,b,c] = [1,2,3];
console.log(a,b,c);
```

在当前目录下执行：`babel-node test`，将会输出`1,2,3`。
**注：运行本教程示例代码，均使用`babel-node`命令。**babel-cli工具自带一个babel-node命令，提供一个支持ES6的REPL环境。它支持Node的REPL环境的所有功能，而且可以直接运行ES6代码。

如果直接用执行node test， 会报异常。

# 5.其他命令

    # 转码结果输出到标准输出
    $ babel example.js

    # 转码结果写入一个文件
    # --out-file 或 -o 参数指定输出文件
    $ babel example.js --out-file compiled.js
    # 或者
    $ babel example.js -o compiled.js

    # 整个目录转码
    # --out-dir 或 -d 参数指定输出目录
    $ babel src --out-dir lib
    # 或者
    $ babel src -d lib

    # -s 参数生成source map文件
    $ babel src -d lib -s

# 6.cnpm

如果访问国外网站很慢，可以先执行这个命令安装淘宝的`cnpm`：

```
npm install -g cnpm --registry=https://registry.npm.taobao.org
```

以后就可以用`cnpm install pck-name`来安装npm生态圈的各种包了。
